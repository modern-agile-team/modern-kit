import { FallbackLazyImage } from '@modern-kit/react';

# FallbackLazyImage

**[LazyImage ì»´í¬ë„ŒíŠ¸](https://modern-agile-team.github.io/modern-kit/docs/react/components/LazyImage)** ë¥¼ í™•ì¥í•´ ì´ë¯¸ì§€ `load ì—¬ë¶€`ì— ë”°ë¥¸ `Fallback ì»´í¬ë„ŒíŠ¸`ë¥¼ ë Œë”ë§ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì…ë‹ˆë‹¤.

`src`ì™€ ë”ë¶ˆì–´ `width`, `height`, `fallback` propsë¥¼ í•„ìˆ˜ë¡œ ë„˜ê²¨ì¤˜ì•¼ í•˜ë©°, fallbackì˜ í¬ê¸°ëŠ” í•´ë‹¹ width, heightì™€ ë™ì¼í•˜ê²Œ ë§ì¶”ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

`duration` propsëŠ” ì‹¤ì œ ì´ë¯¸ì§€ê°€ load ëœ í›„, fallback ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‹¤ì œ ì´ë¯¸ì§€ë¡œ ì „í™˜ ë  ë•Œ ì‚¬ìš©í•˜ëŠ” **[transition-duration](https://developer.mozilla.org/en-US/docs/Web/CSS/transition-duration)** ê°’ì…ë‹ˆë‹¤. 

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/components/FallbackLazyImage/index.tsx)

## Interface
```ts title="typescript"
interface IntersectionObserverInit {
  root?: Element | Document | null;
  rootMargin?: string;
  threshold?: number | number[];
}

interface LazyImageProps
  extends React.ComponentProps<'img'>,
    IntersectionObserverInit {
  src: string;
}
```
```ts title="typescript"
interface FallbackLazyImageProps extends LazyImageProps {
  fallback: JSX.Element;
  width: string | number;
  height: string | number;
  duration?: CSSProperties['transitionDuration']; // default: 0.2s
}

const FallbackLazyImage: React.ForwardRefExoticComponent<
  Omit<FallbackLazyImageProps, 'ref'> & React.RefAttributes<HTMLImageElement>
>;
```

## Usage
### Default
```tsx title="typescript"
import { FallbackLazyImage } from '@modern-kit/react';
import img1 from '../assets/img1.png';

const Example = () => {
  const skeletonStyle = useMemo(
    () => ({
      width: '400px', // ì‹¤ì œ img í¬ê¸°ì™€ ë™ì¼í•˜ê²Œ ë§ì¶°ì£¼ì„¸ìš”.
      height: '400px', // ì‹¤ì œ img í¬ê¸°ì™€ ë™ì¼í•˜ê²Œ ë§ì¶°ì£¼ì„¸ìš”.
      backgroundColor: 'green',
    }),
    []
  );
  return (
    <div>
      <FallbackLazyImage
        fallback={<div style={skeletonStyle} />}
        width={400}
        height={400}
        src={img1}
        alt="img1"
      />
    </div>
  );
};
```

### Wrapper Styling: css
- FallbackLazyImage ì»´í¬ë„ŒíŠ¸ ë‚´ `Image Wrapper`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `lazy-image-wrapper` í´ë˜ìŠ¤ë¥¼ ê°–ìŠµë‹ˆë‹¤. í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ìŠ¤íƒ€ì¼ì„ ì œì–´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```css
/* css stylesheet */
.lazy-image-wrapper {
  border-radius: 12px;
  overflow: hidden;
}

.lazy-image-wrapper > img {
  /* image styling */
}
```
```tsx
<FallbackLazyImage {/* ...props */} />
```

### Wrapper Styling: css-in-js
- `css-in-js`ì˜ `ìƒì†`ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„± í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```tsx
const Image = styled(FallbackLazyImage)`
  border-radius: 12px;
  overflow: hidden;

  & > img {
    /* image styling */
  }
`;
```
```tsx
<Image {/* ...props */} />
```

## Example

export const Example = () => {
  const skeletonStyle = {
    width: '500px',
    height: '500px',
    backgroundColor: 'green',
  };
  return (
    <div style={{ background: '#f8f8f8', width: '500px' }}>
      <div
        style={{
          height: '500px',
          textAlign: 'center',
          fontSize: '2rem',
        }}>
        ìŠ¤í¬ë¡¤ í•´ì£¼ì„¸ìš”.
      </div>
      <FallbackLazyImage
        fallback={<div style={skeletonStyle} />}
        src={
          'https://github.com/Team-Grace/devgrace/assets/64779472/b5640bec-2abc-4205-afbf-ccfd9876a90b'
        }
        alt="img1"
        width={500}
        height={500}
      />

      <div style={{ width: '100%', height: '150px' }} />

      <FallbackLazyImage
        fallback={<div style={skeletonStyle} />}
        src={
          'https://github.com/Team-Grace/devgrace/assets/64779472/207743a7-b29f-4826-bc08-8df0d67e568b'
        }
        alt="img2"
        width={500}
        height={500}
      />

      <div style={{ width: '100%', height: '150px' }} />

      <FallbackLazyImage
        fallback={<div style={skeletonStyle} />}
        src={
          'https://github.com/Team-Grace/devgrace/assets/64779472/d1957ec8-fe87-406e-bfda-fb4ee505b152'
        }
        alt="img3"
        width={500}
        height={500}
      />
    </div>
  );
};

<Example />