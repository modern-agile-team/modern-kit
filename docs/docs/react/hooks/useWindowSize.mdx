import { useWindowSize } from '@modern-kit/react';
import { useMemo } from 'react';

# useWindowSize

현재 브라우저 창의 너비와 높이 정보를 추적하고, 반환하는 커스텀 훅입니다.

SSR 환경에서 hydration 불일치를 방지하며, resize 이벤트가 발생할 때 불 필요한 호출을 방지하기위한 `debounce` 기능을 제공합니다.

디바운스 대기 시간(debounceWait)을 설정하면 debounce로 동작하며, 설정하지 않으면 즉시 업데이트됩니다.

<br />

## Code
[🔗 실제 구현 코드 확인](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useWindowSize/index.ts)

## Interface
```ts title="typescript"
interface WindowSize {
  width: number;
  height: number;
}

interface useWindowSizeOptions {
  debounceWait?: number; // debounce delay time, default: 300
  initialSize?: WindowSize; // SSR 환경에서 사용할 기본 크기
}
```
```ts title="typescript"
function useWindowSize({ debounceWait, initialSize }: useWindowSizeOptions): WindowSize
```

## Usage
### Default
```tsx title="typescript"
import { useWindowSize } from '@modern-kit/react';

const Example = () => {
  const windowSize = useWindowSize();
  const boxStyle = useMemo(() => {
    return {
      width: '100%', 
      background: '#439966', 
      fontSize: '2rem',
      color: '#fff',
    }
  }, []);

  return (
    <div style={boxStyle}>
      브라우저 크기를 줄여보세요. <br />
      width: {windowSize.width}px <br />
      height: {windowSize.height}px
    </div>
  );
};
```

export const DefaultExample = () => {
  const windowSize = useWindowSize();
  const boxStyle = useMemo(() => {
    return {
      width: '100%', 
      background: '#439966', 
      fontSize: '2rem',
      color: '#fff',
    }
  }, []);
  return (
    <div style={boxStyle}>
      브라우저 크기를 줄여보세요. <br />
      width: {windowSize.width}px <br />
      height: {windowSize.height}px
    </div>
  );
};

<DefaultExample />

<br />

### Debounce
```tsx title="typescript"
import { useWindowSize } from '@modern-kit/react';

const DebounceExample = () => {
  const windowSize = useWindowSize({ debounceWait: 300 });
  const boxStyle = useMemo(() => {
    return {
      width: '100%', 
      background: '#0067A3', 
      fontSize: '2rem',
      color: '#fff',
    }
  }, []);

  return (
    <div style={boxStyle}>
      브라우저 크기를 줄여보세요. <br />
      width: {windowSize.width}px <br />
      height: {windowSize.height}px
    </div>
  );
};
```

export const DebounceExample = () => {
  const windowSize = useWindowSize({ debounceWait: 300 });
  const boxStyle = useMemo(() => {
    return {
      width: '100%', 
      background: '#0067A3', 
      fontSize: '2rem',
      color: '#fff',
    }
  }, []);
  return (
    <div style={boxStyle}>
      브라우저 크기를 줄여보세요. <br />
      width: {windowSize.width}px <br />
      height: {windowSize.height}px
    </div>
  );
};

<DebounceExample />

<br />