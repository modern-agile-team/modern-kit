import { useClipboard } from '@modern-kit/react';
import { useState, useEffect } from 'react';
import img from '../../../assets/react.png';

# useClipboard

`클립보드`와 상호작용하는 함수들을 포함한 객체를 반환합니다.

<br />

## Code
[🔗 실제 구현 코드 확인](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useClipboard/index.ts)

## Interface
```ts title="typescript"
function useClipboard(): {
  copiedData: string | Blob | null;
  readData: string | ClipboardItems | null;
  readText: () => Promise<string>;
  readContents: () => Promise<ClipboardItems>;
  copyText: (value: string) => Promise<string>;
  copyImage: (src: string, options?: { toText: boolean }) => Promise<string | Blob>;
};
```

## Usage
```tsx title="typescript"
import { useClipboard } from '@modern-kit/react';
import img from '../../assets/img.png';

const Example = () => {
  const { copiedData, readData, copyText, copyImage, readContents, readText } = useClipboard();
  const [text, setText] = useState('');

  const handleCopyText = async () => {
    await copyText(text);
    alert("클립보드에 복사됐습니다. 브라우저 콘솔을 확인해주세요.");
  };

  const handleCopyImage = async () => {
    await copyImage(img);
    alert("클립보드에 복사됐습니다. 브라우저 콘솔을 확인해주세요.");
  };

  const handleReadText = async () => {
    await readText(text);
    alert("클립보드에 데이터를 가져왔습니다. 브라우저 콘솔을 확인해주세요.");
  };

  const handleReadContents = async () => {
    await readContents(img);
    alert("클립보드에 데이터를 가져왔습니다. 브라우저 콘솔을 확인해주세요.");
  };

  useEffect(() => {
    console.log("copiedData: ", copiedData);
    console.log("readData: ", readData);
  }, [copiedData, readData])

  return (
    <div>
      <div>
        <input
          type="text"
          value={text}
          onChange={(e) => setText(e.target.value)}
        />
        <button onClick={handleCopyText}>텍스트 클립보드 복사</button>
      </div>
      <br />
      <div>
        <img src={img} alt="이미지" width={120} height={120} />
        <button onClick={handleCopyImage}>이미지 클립보드 복사</button>
      </div>
      <br />
      <div>
        <button onClick={handleReadText}>클립보드 텍스트 읽기</button>
        <button onClick={handleReadContents}>클립보드 컨텐츠 읽기</button>
      </div>
    </div>
  );
};
```

## Example

export const Example = () => {
  const { copiedData, readData, copyText, copyImage, readContents, readText } = useClipboard();
  const [text, setText] = useState('');

  const handleCopyText = async () => {
    await copyText(text);
    alert("클립보드에 복사됐습니다. 브라우저 콘솔을 확인해주세요.");
  };

  const handleCopyImage = async () => {
    await copyImage(img);
    alert("클립보드에 복사됐습니다. 브라우저 콘솔을 확인해주세요.");
  };

  const handleReadText = async () => {
    await readText(text);
    alert("클립보드에 데이터를 가져왔습니다. 브라우저 콘솔을 확인해주세요.");
  };

  const handleReadContents = async () => {
    await readContents(img);
    alert("클립보드에 데이터를 가져왔습니다. 브라우저 콘솔을 확인해주세요.");
  };

  useEffect(() => {
    console.log("copiedData: ", copiedData);
    console.log("readData: ", readData);
  }, [copiedData, readData])

  return (
    <div>
      <div>
        <input
          type="text"
          value={text}
          onChange={(e) => setText(e.target.value)}
        />
        <button onClick={handleCopyText}>텍스트 클립보드 복사</button>
      </div>
      <br />
      <div>
        <img src={img} alt="이미지" width={120} height={120} />
        <button onClick={handleCopyImage}>이미지 클립보드 복사</button>
      </div>
      <br />
      <div>
        <button onClick={handleReadText}>클립보드 텍스트 읽기</button>
        <button onClick={handleReadContents}>클립보드 컨텐츠 읽기</button>
      </div>
    </div>
  );
};

<Example />
