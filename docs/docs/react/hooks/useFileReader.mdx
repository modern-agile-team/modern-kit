# useFileReader

`File` ê°ì²´ë¥¼ ì›í•˜ëŠ” ì½ê¸° ë©”ì„œë“œ(`readAsText`,`readAsDataURL`,`readAsArrayBuffer`)ë¡œ ì½ê³ , ì½ì€ íŒŒì¼ ì»¨í…ì¸ ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useFileReader/index.ts)

## Interface
```ts title="typescript"
type ReadType = 'readAsText' | 'readAsDataURL' | 'readAsArrayBuffer';

interface FileContent {
  status: 'fulfilled' | 'rejected';
  readValue: string | ArrayBuffer;
  originFile: Nullable<File>;
}

interface ReadFileOptions {
  file: FileList | File;
  readType: ReadType;
  accepts?: string[];
}

const useFileReader: () => {
  readFile: ({
    file,
    readType,
    accepts,
  }: ReadFileOptions) => Promise<FileContent[]>;
  fileContents: FileContent[];
  isLoading: boolean;
};
```

## Usage
```tsx title="typescript"
import React, { useState } from 'react';
import { useFileReader } from '@modern-kit/react';

const Example = () => {
  const { readFile, fileContents, loading } = useFileReader()

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    if(!e.target.files) return;

    readFile({ file: e.target.files, readType: 'readAsText' }); 
    /*
     * 1. readFileì€ Promise<FileContent[]> ë°˜í™˜í•©ë‹ˆë‹¤. í•´ë‹¹ ê°’ì€ fileContentsì™€ ë™ì¼í•©ë‹ˆë‹¤.
     * ex) const data = await readFile(e.target.files, 'readAsDataURL'); 
     * 
     * 2. acceptsë¡œ ì›í•˜ëŠ” íŒŒì¼ íƒ€ì…ë§Œ ì½ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
     * acceptsì˜µì…˜ì„ ë„˜ê²¨ì£¼ì§€ ì•Šìœ¼ë©´ ëª¨ë“  íŒŒì¼ íƒ€ì…ì„ í—ˆìš©í•©ë‹ˆë‹¤.
     * ex) readFile({ file: e.target.files, readType: 'readAsText', accepts: ['text/plain'] }); 
     */
  }

  return (
    <div>
      <input multiple type="file" onChange={handleChange} />
    </div>
  );
};
```