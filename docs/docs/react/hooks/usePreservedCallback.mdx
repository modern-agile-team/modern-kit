# usePreservedCallback

ì£¼ì–´ì§„ ì½œë°± í•¨ìˆ˜ì˜ `ì°¸ì¡°ë¥¼ ìœ ì§€`í•˜ê³ , ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì‚¬ì´ì— ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤. 

ì´ í›…ì€ íŠ¹íˆ ì½œë°± í•¨ìˆ˜ê°€ ë Œë”ë§ ì¤‘ì— ë³€ê²½ë  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ í•¨ìˆ˜ ìƒì„±ì„ ë°©ì§€í•˜ê³  ìµœì í™”í•˜ë©°, ìµœì‹  ë²„ì „ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/usePreservedCallback/index.ts)

## Interface
```ts title="typescript"
function usePreservedCallback<T extends (...args: any[]) => any>(
  callback?: T // default: noop
): T;
```

## Usage
### as-is
```tsx title="typescript"
import React, { useEffect, useState } from "react";

const Example = () => {
  const [state, setState] = useState(0);

  const callback = () => {
    setState(state + 1);
  };

  useEffect(() => {
    callback();
    // 1. state ë³€ê²½ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ë°œìƒ
    // 2. ë¦¬ë Œë”ë§ ì‹œ callback í•¨ìˆ˜ê°€ ìƒˆë¡œ ìƒì„±ë¨
    // 3. useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨ëœ callbackì´ ë³€ê²½ë˜ì–´ ë‹¤ì‹œ ì‹¤í–‰
    // 4. 1~3 ê³¼ì •ì´ ë°˜ë³µë˜ë©´ì„œ ë¬´í•œ ë£¨í”„ ë°œìƒ
  }, [callback]);

  // ...
}
```

### to-be (usePreservedCallback)
```tsx title="typescript"
import React, { useEffect, useState } from "react";
import { usePreservedCallback } from '@modern-kit/react';

const Example = () => {
  const [state, setState] = useState(0);

  const preservedCallback = usePreservedCallback(() => {
    setState(state + 1);
  });

  useEffect(() => {
    preservedCallback(); 
    // 1. state ë³€ê²½ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ë°œìƒ
    // 2. ë¦¬ë Œë”ë§ ì‹œ usePreservedCallbackì´ ë°˜í™˜í•˜ëŠ” preservedCallback í•¨ìˆ˜ì˜ ì°¸ì¡°ëŠ” ë³€ê²½ë˜ì§€ ì•ŠìŒ
    // 3. useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨ëœ preservedCallbackì´ ë³€ê²½ë˜ì§€ ì•Šì•„ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
  }, [preservedCallback]);

  // ...
}
```