import { useStep } from '@modern-kit/react';
import { useState } from 'react';

# useStep

`mult-step process`ì˜ `step`ì„ ê´€ë¦¬í•˜ê³  ì¶”ì í•´ì£¼ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useStep/index.ts)

## Interface
```ts title="typescript"
interface UseStepProps {
  maxStep: number;
  initialStep?: number; // default: 1
  infinite?: boolean; // default: false
}

type StepAction = ({
  prevStep,
  nextStep,
}: {
  prevStep: number;
  nextStep: number;
}) => void;
```
```ts title="typescript"
const useStep: ({ maxStep, initialStep, infinite }: UseStepProps) => {
  readonly currentStep: number; // í˜„ì¬ Step
  readonly hasNextStep: boolean; // ë‹¤ìŒ Step ì´ë™ ê°€ëŠ¥ ì—¬ë¶€
  readonly hasPrevStep: boolean; // ì´ì „ Step ì´ë™ ê°€ëŠ¥ ì—¬ë¶€
  readonly setStep: (
    step: number | ((step: number) => number),
    action?: StepAction
  ) => void; // íŠ¹ì • Step ì´ë™ í•¨ìˆ˜
  readonly nextStep: (action?: StepAction) => void; // ë‹¤ìŒ Step ì´ë™ í•¨ìˆ˜
  readonly prevStep: (action?: StepAction) => void; // ì´ì „ Step ì´ë™ í•¨ìˆ˜
  readonly resetStep: (action?: StepAction) => void; // initialValue ì´ë™ í•¨ìˆ˜
};
```

## Usage
```tsx title="typescript"
import { useStep } from '@modern-kit/react';

export const Example = () => {
  const [infinite, setInfinite] = useState(true);
  const {
    currentStep,
    hasNextStep,
    hasPrevStep,
    setStep,
    nextStep,
    prevStep,
    resetStep,
  } = useStep({ maxStep: 4, infinite: infinite });

  const handleNextStep = () => {
    nextStep(({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const handlePrevStep = () => {
    prevStep(({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const handleSetStep = () => {
    setStep(3, ({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const handleresetStep = () => {
    resetStep(({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const boxStyle = {
    width: '300px',
    height: '120px',
    fontSize: '21px',
  };

  return (
    <div>
      <div>
        <button onClick={handlePrevStep}>ì´ì „ ìŠ¤íƒ­</button>
        <button onClick={handleNextStep}>ë‹¤ìŒ ìŠ¤íƒ­</button>
        <button onClick={handleSetStep}>3ìŠ¤íƒ­ìœ¼ë¡œ ì´ë™</button>
        <button onClick={handleresetStep}>ì´ˆê¸°í™” ìŠ¤íƒ­</button>
        <button onClick={() => setInfinite(!infinite)}>infinite í† ê¸€</button>
      </div>
      <div>
        <p>currentStep: {currentStep}</p>
        <p>hasNextStep: {`${hasNextStep}`}</p>
        <p>hasPrevStep: {`${hasPrevStep}`}</p>
        <p>infinite: {`${infinite}`}</p>
      </div>
      <div>
        {currentStep === 1 && (
          <div style={{ ...boxStyle, backgroundColor: 'red' }}>
            1ë²ˆ Step Box
          </div>
        )}
        {currentStep === 2 && (
          <div style={{ ...boxStyle, backgroundColor: 'green' }}>
            2ë²ˆ Step Box
          </div>
        )}
        {currentStep === 3 && (
          <div style={{ ...boxStyle, backgroundColor: 'blue' }}>
            3ë²ˆ Step Box
          </div>
        )}
        {currentStep === 4 && (
          <div style={{ ...boxStyle, backgroundColor: 'yellow' }}>
            4ë²ˆ Step Box
          </div>
        )}
      </div>
    </div>
  );
};
```

## Example

export const Example = () => {
  const [infinite, setInfinite] = useState(false);
  const {
    currentStep,
    hasNextStep,
    hasPrevStep,
    setStep,
    nextStep,
    prevStep,
    resetStep,
  } = useStep({ maxStep: 4, infinite: infinite });

  const handleNextStep = () => {
    nextStep(({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const handlePrevStep = () => {
    prevStep(({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const handleSetStep = () => {
    setStep(3, ({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const handleresetStep = () => {
    resetStep(({ prevStep, nextStep }) => {
      console.log(`${prevStep}ì—ì„œ ${nextStep}ë¡œ ì´ë™`);
    });
  };

  const boxStyle = {
    width: '300px',
    height: '120px',
    fontSize: '21px',
  };

  return (
    <div>
      <div>
        <button onClick={handlePrevStep}>ì´ì „ ìŠ¤íƒ­</button>
        <button onClick={handleNextStep}>ë‹¤ìŒ ìŠ¤íƒ­</button>
        <button onClick={handleSetStep}>3ìŠ¤íƒ­ìœ¼ë¡œ ì´ë™</button>
        <button onClick={handleresetStep}>ì´ˆê¸°í™” ìŠ¤íƒ­</button>
        <button onClick={() => setInfinite(!infinite)}>infinite í† ê¸€</button>
      </div>
      <div>
        <p>currentStep: {currentStep}</p>
        <p>hasNextStep: {`${hasNextStep}`}</p>
        <p>hasPrevStep: {`${hasPrevStep}`}</p>
        <p>infinite: {`${infinite}`}</p>
      </div>
      <div>
        {currentStep === 1 && (
          <div style={{ ...boxStyle, backgroundColor: 'red' }}>
            1ë²ˆ Step Box
          </div>
        )}
        {currentStep === 2 && (
          <div style={{ ...boxStyle, backgroundColor: 'green' }}>
            2ë²ˆ Step Box
          </div>
        )}
        {currentStep === 3 && (
          <div style={{ ...boxStyle, backgroundColor: 'blue' }}>
            3ë²ˆ Step Box
          </div>
        )}
        {currentStep === 4 && (
          <div style={{ ...boxStyle, backgroundColor: 'yellow' }}>
            4ë²ˆ Step Box
          </div>
        )}
      </div>
    </div>
  );
};


<Example />