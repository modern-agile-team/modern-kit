import { useStep } from '@modern-kit/react';
import { useState } from 'react';

# useStep

`multi-step process`ì˜ `step`ì„ ê´€ë¦¬í•˜ê³  ì¶”ì í•´ì£¼ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

ë°°ì—´ì˜ ì¸ë±ìŠ¤ì™€ í˜¸í™˜ë  ìˆ˜ ìˆê²Œ `0ë²ˆ` stepë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useStep/index.ts)

## Interface
```ts title="typescript"
interface UseStepProps {
  maxStep: number;
  initialStep?: number; // default: 0
  infinite?: boolean; // default: false
}

type Action = ({ prev, next }: { prev: number; next: number }) => void;
```
```ts title="typescript"
const useStep: ({ maxStep, initialStep, infinite }: UseStepProps) => {
  readonly currentStep: number; // í˜„ì¬ Step
  readonly hasNextStep: boolean; // ë‹¤ìŒ Step ì´ë™ ê°€ëŠ¥ ì—¬ë¶€
  readonly hasPrevStep: boolean; // ì´ì „ Step ì´ë™ ê°€ëŠ¥ ì—¬ë¶€
  readonly setStep: (
    step: number | ((step: number) => number),
    action?: Action
  ) => void; // íŠ¹ì • Step ì´ë™ í•¨ìˆ˜
  readonly goToNextStep: (action?: Action) => void; // ë‹¤ìŒ Step ì´ë™ í•¨ìˆ˜
  readonly goToPrevStep: (action?: Action) => void; // ì´ì „ Step ì´ë™ í•¨ìˆ˜
  readonly resetStep: (action?: Action) => void; // initialValue ì´ë™ í•¨ìˆ˜
};
```

## Usage
```tsx title="typescript"
import { useStep } from '@modern-kit/react';

export const Example = () => {
  const [infinite, setInfinite] = useState(true);
  const {
    currentStep,
    hasNextStep,
    hasPrevStep,
    setStep,
    goToNextStep,
    goToPrevStep,
    resetStep,
  } = useStep({ maxStep: 3, infinite: infinite });

  const handleGoToNextStep = () => {
    goToNextStep(({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const handleGoToPrevStep = () => {
    goToPrevStep(({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const handleSetStep = () => {
    setStep(2, ({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const handleResetStep = () => {
    resetStep(({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const boxStyle = {
    width: '300px',
    height: '120px',
    fontSize: '21px',
  };

  return (
    <div>
      <div>
        <button onClick={handleGoToPrevStep}>ì´ì „ ìŠ¤íƒ­</button>
        <button onClick={handleGoToNextStep}>ë‹¤ìŒ ìŠ¤íƒ­</button>
        <button onClick={handleSetStep}>2ìŠ¤íƒ­ìœ¼ë¡œ ì´ë™</button>
        <button onClick={handleResetStep}>ì´ˆê¸°í™” ìŠ¤íƒ­</button>
        <button onClick={() => setInfinite(!infinite)}>infinite í† ê¸€</button>
      </div>
      <div>
        <p>currentStep: {currentStep}</p>
        <p>hasNextStep: {`${hasNextStep}`}</p>
        <p>hasPrevStep: {`${hasPrevStep}`}</p>
        <p>infinite: {`${infinite}`}</p>
      </div>
      <div>
        {currentStep === 0 && (
          <div style={{ ...boxStyle, backgroundColor: 'red' }}>
            0ë²ˆ Step Box
          </div>
        )}
        {currentStep === 1 && (
          <div style={{ ...boxStyle, backgroundColor: 'green' }}>
            1ë²ˆ Step Box
          </div>
        )}
        {currentStep === 2 && (
          <div style={{ ...boxStyle, backgroundColor: 'blue' }}>
            2ë²ˆ Step Box
          </div>
        )}
        {currentStep === 3 && (
          <div style={{ ...boxStyle, backgroundColor: 'yellow' }}>
            3ë²ˆ Step Box
          </div>
        )}
      </div>
    </div>
  );
};
```

## Example

export const Example = () => {
  const [infinite, setInfinite] = useState(true);
  const {
    currentStep,
    hasNextStep,
    hasPrevStep,
    setStep,
    goToNextStep,
    goToPrevStep,
    resetStep,
  } = useStep({ maxStep: 3, infinite: infinite });

  const handleGoToNextStep = () => {
    goToNextStep(({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const handleGoToPrevStep = () => {
    goToPrevStep(({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const handleSetStep = () => {
    setStep(2, ({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const handleResetStep = () => {
    resetStep(({ prev, next }) => {
      console.log(`${prev}ì—ì„œ ${next}ë¡œ ì´ë™`);
    });
  };

  const boxStyle = {
    width: '300px',
    height: '120px',
    fontSize: '21px',
  };

  return (
    <div>
      <div>
        <button onClick={handleGoToPrevStep}>ì´ì „ ìŠ¤íƒ­</button>
        <button onClick={handleGoToNextStep}>ë‹¤ìŒ ìŠ¤íƒ­</button>
        <button onClick={handleSetStep}>2ìŠ¤íƒ­ìœ¼ë¡œ ì´ë™</button>
        <button onClick={handleResetStep}>ì´ˆê¸°í™” ìŠ¤íƒ­</button>
        <button onClick={() => setInfinite(!infinite)}>infinite í† ê¸€</button>
      </div>
      <div>
        <p>currentStep: {currentStep}</p>
        <p>hasNextStep: {`${hasNextStep}`}</p>
        <p>hasPrevStep: {`${hasPrevStep}`}</p>
        <p>infinite: {`${infinite}`}</p>
      </div>
      <div>
        {currentStep === 0 && (
          <div style={{ ...boxStyle, backgroundColor: 'red' }}>
            0ë²ˆ Step Box
          </div>
        )}
        {currentStep === 1 && (
          <div style={{ ...boxStyle, backgroundColor: 'green' }}>
            1ë²ˆ Step Box
          </div>
        )}
        {currentStep === 2 && (
          <div style={{ ...boxStyle, backgroundColor: 'blue' }}>
            2ë²ˆ Step Box
          </div>
        )}
        {currentStep === 3 && (
          <div style={{ ...boxStyle, backgroundColor: 'yellow' }}>
            3ë²ˆ Step Box
          </div>
        )}
      </div>
    </div>
  );
};


<Example />