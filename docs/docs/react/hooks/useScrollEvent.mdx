import { useState } from 'react';
import { useScrollEvent } from '@modern-kit/react';

# useScrollEvent

`useScrollEvent`ëŠ” íŠ¹ì • ìš”ì†Œë‚˜ windowì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì¶”ì í•˜ëŠ” React ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ ë°©í–¥, ì§„í–‰ë„, ìœ„ì¹˜ ë“± ìŠ¤í¬ë¡¤ ê´€ë ¨ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ throttle ë”œë ˆì´, ì‹œì‘ ì‹œì  ì´ë²¤íŠ¸ ë¬´ì‹œ ì—¬ë¶€(leading), ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ ë¬´ì‹œ ì—¬ë¶€(trailing), ìŠ¤í¬ë¡¤ ì¶”ì  ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€(enabled)ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- `throttleDelay` ì˜µì…˜ì„ í†µí•´ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì“°ë¡œí‹€ë§ ë”œë ˆì´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `throttleLeading` ì˜µì…˜ì„ í†µí•´ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì“°ë¡œí‹€ë§ ì‹œì‘ ì‹œì  ì´ë²¤íŠ¸ ë¬´ì‹œ ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `throttleTrailing` ì˜µì…˜ì„ í†µí•´ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì“°ë¡œí‹€ë§ ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ ë¬´ì‹œ ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `enabled` ì˜µì…˜ì„ í†µí•´ ìŠ¤í¬ë¡¤ ì¶”ì  ê¸°ëŠ¥ì„ í™œì„±í™”/ë¹„í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useScrollEvent/index.ts)

## Interface
```ts title="typescript"
interface UseScrollProps {
  throttleDelay?: number; // default: 0
  throttleLeading?: boolean; // default: true
  throttleTrailing?: boolean; // default: true
  enabled?: boolean; // default: true
}

interface ScrollState {
  scrollX: number;
  scrollY: number;
  scrollWidth: number;
  scrollHeight: number;
  direction: {
    y: 'up' | 'down' | 'none'; // default: 'none'
    x: 'left' | 'right' | 'none'; // default: 'none'
  };
  progress: {
    y: number;
    x: number;
  };
}
```

```ts title="typescript"
function useScrollEvent<T extends HTMLElement>({
  throttleDelay, // default: 0
  throttleLeading, // default: true
  throttleTrailing, // default: true
  enabled, // default: true
}: UseScrollProps = {}): {
  ref: React.RefObject<T | null>;
  scrollState: ScrollState;
};
```

## Usage
```tsx title="typescript"
import { useScrollEvent } from '@modern-kit/react';

const Example = () => {
  const [enabled, setEnabled] = useState(true);
  const { scrollState } = useScrollEvent({ enabled });
  
  // íŠ¹ì • ìš”ì†Œì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì¶”ì 
  const { ref, scrollState: containerScrollState } = useScrollEvent<HTMLDivElement>({
    throttleDelay: 300,
    enabled: true,
  });
  
  return (
    <div>
      <button onClick={() => setEnabled(!enabled)}>
        {enabled ? 'ìŠ¤í¬ë¡¤ ì¶”ì  ë¹„í™œì„±í™”' : 'ìŠ¤í¬ë¡¤ ì¶”ì  í™œì„±í™”'}
      </button>
      
      <div style={{ marginTop: '20px' }}>
        <h3>Window ìŠ¤í¬ë¡¤ ì •ë³´</h3>
        <p>Scroll Y: {scrollState.scrollY}px</p>
        <p>Direction Y: {scrollState.direction.y}</p>
        <p>Progress Y: {Math.round(scrollState.progress.y * 100)}%</p>
      </div>
      
      <div 
        ref={ref} 
        style={{ 
          height: '200px', 
          overflow: 'auto',
          border: '1px solid #ccc',
          marginTop: '20px',
          padding: '10px'
        }}
      >
        <div style={{ height: '500px', background: 'linear-gradient(to bottom, #f0f0f0, #c0c0c0)' }}>
          <h3>Container ìŠ¤í¬ë¡¤ ì •ë³´</h3>
          <p>Scroll Y: {containerScrollState.scrollY}px</p>
          <p>Direction Y: {containerScrollState.direction.y}</p>
          <p>Progress Y: {containerScrollState.progress.y}%</p>
          <p>ìŠ¤í¬ë¡¤ì„ ì›€ì§ì—¬ë³´ì„¸ìš”</p>
        </div>
      </div>
    </div>
  );
};
```

## Example

export const Example = () => {
  const [enabled, setEnabled] = useState(true);
  const { scrollState } = useScrollEvent({ enabled });
  
  const { ref, scrollState: containerScrollState } = useScrollEvent({
    throttleDelay: 300,
    enabled,
  });
  
  return (
    <div>
      <button onClick={() => setEnabled(!enabled)}>
        {enabled ? 'ìŠ¤í¬ë¡¤ ì¶”ì  ë¹„í™œì„±í™”' : 'ìŠ¤í¬ë¡¤ ì¶”ì  í™œì„±í™”'}
      </button>
      
      <div style={{ marginTop: '20px' }}>
        <h3>Window ìŠ¤í¬ë¡¤ ì •ë³´</h3>
        <p>Scroll Y: {scrollState.scrollY}px</p>
        <p>Direction Y: {scrollState.direction.y}</p>
        <p>Progress Y: {scrollState.progress.y}%</p>
      </div>
      
      <div 
        ref={ref} 
        style={{ 
          height: '200px', 
          overflow: 'auto',
          border: '1px solid #ccc',
          marginTop: '20px',
          padding: '10px'
        }}
      >
        <div style={{ height: '500px', background: 'linear-gradient(to bottom, #f0f0f0, #c0c0c0)' }}>
          <h3>Container ìŠ¤í¬ë¡¤ ì •ë³´</h3>
          <p>Scroll Y: {containerScrollState.scrollY}px</p>
          <p>Direction Y: {containerScrollState.direction.y}</p>
          <p>Progress Y: {containerScrollState.progress.y}%</p>
          <p>ìŠ¤í¬ë¡¤ì„ ì›€ì§ì—¬ë³´ì„¸ìš”</p>
        </div>
      </div>
    </div>
  );
};

<Example />
