import { useSafeContext } from '@modern-kit/react'
import { createContext } from 'react'

# useSafeContext

React Contextì— `ì•ˆì „í•˜ê²Œ ì ‘ê·¼`í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

Provider ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ì„ ë•Œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ë©°, ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ ì•ˆì „í•˜ê²Œ ì ‘ê·¼í–ˆê¸° ë•Œë¬¸ì— `NonNullable`í•œ Context ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useSafeContext/index.ts)

## Interface
```ts title="typescript"
interface UseSafeContextOptions {
  errorMessage?: string;
}
```

```ts title="typescript"
function useSafeContext<T>(
  context: Context<T>,
  options?: UseSafeContextOptions
): NonNullable<T>
```

## Usage
```tsx title="typescript"
import { useSafeContext } from '@modern-kit/react'
import { createContext } from 'react'

const ThemeContext = createContext<{ theme: string } | null>(null);

function MyComponent() {
  // ì•ˆì „í•˜ê²Œ ì ‘ê·¼í–ˆê¸° ë•Œë¬¸ì— NonNullableí•œ Context ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
  // context: { theme: 'dark' }
  const context = useSafeContext(ThemeContext, {
    errorMessage: 'useThemeContextëŠ” ThemeProvider ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤'
  });
  return <div>í˜„ì¬ í…Œë§ˆ: {context.theme}</div>;
}

<ThemeContext.Provider value={{ theme: 'dark' }}>
  <MyComponent />
</ThemeContext.Provider>
```

## Example

export const Example = () => {
  const ThemeContext = createContext(null);

  const MyComponent = () => {
    const context = useSafeContext(ThemeContext, {
      errorMessage: 'useThemeContextëŠ” ThemeProvider ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤'
    });
    return <div>í˜„ì¬ í…Œë§ˆ: {context.theme}</div>;
  };

  return (
    <ThemeContext.Provider value={{ theme: 'dark' }}>
      <MyComponent />
    </ThemeContext.Provider>
  );
};

<Example />
