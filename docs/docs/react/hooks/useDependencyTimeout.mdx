import { useDependencyTimeout } from '@modern-kit/react';
import { useState, DependencyList } from 'react';

# useDependencyTimeout

`useTimeout`를 dependency로 관리해 사용할 수 있는 커스텀 훅 입니다. 

`callback` 함수, `delay` 숫자, `deps` 배열, 첫 마운트 여부를 수행하는 `{ callOnMount }`를 받습니다.

Timeout을 직접 핸들링 할 수 있는 `set`, `reset`, `clear` 함수를 반환합니다.

<br />

## Code
[🔗 실제 구현 코드 확인](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useDependencyTimeout/index.ts)

## Interface
```ts title="typescript"
interface TimeoutOptions {
  callback: () => void;
  options: number | TimeoutOptions;
  deps: DependencyList[];
  { callOnMount }: { callOnMount: boolean }
}
```

## Usage
```tsx title="typescript"
import { useDependencyTimeout } from '@modern-kit/react';

const Example = () => {
  const [number, setNumber] = useState(0);

  const { set, reset, clear } = useDependencyTimeout(() => {
    setNumber(number + 1);
  }, 1000);

  /*
   * useDependencyTimeout(() => {
   *   setNumber(number + 1);
   * }, { delay: 1000, enabled: true });
   */

  return (
    <div>
      <p>{number}</p>
      <div>
        <button onClick={() => set()}>set</button>
        <button onClick={() => reset()}>reset</button>
        <button onClick={() => clear()}>clear</button>
      </div>
    </div>
  );
};
```

## Example

export const Example = ({ deps }) => {
  const [number, setNumber] = useState(0);

  const { set, reset, clear } = useDependencyTimeout(() => {
    setNumber(number + 1);
  }, { delay: 1000, enabled: true }, deps);

  return (
    <div>
      <p>{number}</p>
      <div>
        <button onClick={() => set()}>set</button>
        <button onClick={() => reset()}>reset</button>
        <button onClick={() => clear()}>clear</button>
      </div>
    </div>
  );
};

<Example />