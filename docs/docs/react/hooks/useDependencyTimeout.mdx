import { useDependencyTimeout } from '@modern-kit/react';
import { useState, DependencyList } from 'react';

# useDependencyTimeout

**[useTimeout](https://modern-agile-team.github.io/modern-kit/docs/react/hooks/useTimeout)** ì„ ì‚¬ìš©í•´ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ë˜ë©´ `Timeout`ì„ ì¬ì„¤ì •í•˜ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

ì²« ë²ˆì§¸ ì¸ìë¡œ `callback` í•¨ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. 
ë‘ ë²ˆì§¸ ì¸ìë¡œ `delay` ìˆ«ì í˜¹ì€ `TimerOptions`ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `TimerOptions`ëŠ” `delay`ì™€ `enabled`ë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
ì„¸ ë²ˆì§¸ ì¸ìëŠ” ì˜ì¡´ì„± ë°°ì—´ì¸ `deps` ì…ë‹ˆë‹¤. í•´ë‹¹ ì˜ì¡´ì„± ë°°ì—´ ë‚´ ê°’ì´ ë°”ë€Œë©´ `Timeout`ì„ ì¬ì„¤ì •í•©ë‹ˆë‹¤. 

`Timeout`ì„ ì§ì ‘ í•¸ë“¤ë§ í•  ìˆ˜ ìˆëŠ” `set`, `reset`, `clear` í•¨ìˆ˜ë¥¼ í¬í•¨í•œ ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useDependencyTimeout/index.ts)

## Interface
```ts title="typescript"
export function useDependencyTimeout(
  callback: () => void,
  delay: number,
  deps: DependencyList
): ReturnType<typeof useTimeout>;

export function useDependencyTimeout(
  callback: () => void,
  options: TimeoutOptions,
  deps: DependencyList
): ReturnType<typeof useTimeout>;
```

## Usage
```tsx title="typescript"
import { useDependencyTimeout } from '@modern-kit/react';

const Example = () => {
  const [number, setNumber] = useState(0);
  const [boolean, setBoolean] = useState(false);

  const { set, reset, clear } = useDependencyTimeout(() => {
    setNumber(number + 1);
  }, 1000, [boolean]);
  
  /*
   * useDependencyTimeout(() => {
   *   setNumber(number + 1);
   * }, { delay: 1000, enabled: true });
   */

  return (
    <div>
      <p>{number}</p>
      <button onClick={() => setBoolean(!boolean)}>Toggle ì˜ì¡´ì„± ë°°ì—´ ìˆ˜ì •</button>
      <div>
        <button onClick={() => set()}>set</button>
        <button onClick={() => reset()}>reset</button>
        <button onClick={() => clear()}>clear</button>
      </div>
    </div>
  );
};
```

## Example
export const Example = () => {
  const [number, setNumber] = useState(0);
  const [boolean, setBoolean] = useState(false);

  const { set, reset, clear } = useDependencyTimeout(() => {
    setNumber(number + 1);
  }, 1000, [boolean]);

  return (
    <div>
      <p>{number}</p>
      <button onClick={() => setBoolean(!boolean)}>Toggle ì˜ì¡´ì„± ë°°ì—´ ìˆ˜ì •</button>
      <div>
        <button onClick={() => set()}>set</button>
        <button onClick={() => reset()}>reset</button>
        <button onClick={() => clear()}>clear</button>
      </div>
    </div>
  );
};

<Example />