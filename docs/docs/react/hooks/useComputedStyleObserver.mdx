import { useComputedStyleObserver } from '@modern-kit/react';
import { useState } from 'react';

# useComputedStyleObserver

ê´€ì°°í•  íƒ€ê²Ÿ ìš”ì†Œì˜ íŠ¹ì • `computed style` ê°’ì„ `ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ì°°í•˜ê³  ê´€ë¦¬`í•˜ëŠ” React í›…

- **[MutationObserver](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe)** ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ ì†ì„±ì´ ë³€ê²½ë  ë•Œ ì½œë°±ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.
- **[CSSStyleDeclaration: setProperty](https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty)** ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ ì†ì„±ì„ ì§ì ‘ ë³€ê²½í•˜ë”ë¼ë„ ì´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜í•©ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useComputedStyleObserver/index.ts)

## Interface
```ts title="typescript"
interface UseComputedStyleObserverReturnType<T extends HTMLElement> {
  ref: React.RefObject<T | null>;
  value: string;
  setValue: (value: string) => void;
}
```
```ts title="typescript"
function useComputedStyleObserver<T extends HTMLElement>(
  key: string
): UseComputedStyleObserverReturnType<T>;
```

## Usage
```tsx title="typescript"
import { useComputedStyleObserver } from '@modern-kit/react';

const Example = () => {
  const { ref, value, setValue } =
    useComputedStyleObserver<HTMLDivElement>('color');

  return (
    <>
      <div ref={ref} style={{ width: '100px', height: '100px', backgroundColor: 'skyblue' }} />
      <div>
        <p>í˜„ì¬ ë„ˆë¹„: {`${value}`}</p>
        <button onClick={() => setValue('100px')}>ë„ˆë¹„ 100pxë¡œ ë³€ê²½(setValue)</button>
        <button onClick={() => setValue('300px')}>ë„ˆë¹„ 300pxë¡œ ë³€ê²½(setValue)</button>

        <br />

        <button onClick={() => ref.current?.style.setProperty('width', '100px')}>ë„ˆë¹„ 100pxë¡œ ë³€ê²½(setProperty)</button>
        <button onClick={() => ref.current?.style.setProperty('width', '300px')}>ë„ˆë¹„ 300pxë¡œ ë³€ê²½(setProperty)</button>
      </div>
    </>
  );
};
```

## Example

export const Example = () => {
  const { ref, value, setValue } = useComputedStyleObserver('width');

  return (
    <>
      <div ref={ref} style={{ width: '100px', height: '100px', backgroundColor: 'skyblue' }} />
      <div>
        <p>í˜„ì¬ ë„ˆë¹„: {`${value}`}</p>
        <button onClick={() => setValue('100px')}>ë„ˆë¹„ 100pxë¡œ ë³€ê²½(setValue)</button>
        <button onClick={() => setValue('300px')}>ë„ˆë¹„ 300pxë¡œ ë³€ê²½(setValue)</button>

        <br />

        <button onClick={() => ref.current?.style.setProperty('width', '100px')}>ë„ˆë¹„ 100pxë¡œ ë³€ê²½(setProperty)</button>
        <button onClick={() => ref.current?.style.setProperty('width', '300px')}>ë„ˆë¹„ 300pxë¡œ ë³€ê²½(setProperty)</button>
      </div>
    </>
  );
};

<Example />
