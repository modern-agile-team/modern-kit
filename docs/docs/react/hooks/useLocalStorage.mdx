import { useLocalStorage } from '@modern-kit/react';

# useLocalStorage

`React v18`ë¶€í„° ì§€ì›í•˜ëŠ” **[useSyncExternalStore](https://react.dev/reference/react/useSyncExternalStore)** ì„ í™œìš©í•´ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë‚´ì˜ íŠ¹ì • `key` ë°ì´í„°ë¥¼ êµ¬ë…í•˜ê³ , êµ¬ë… ì¤‘ì¸ ë°ì´í„°ì— ë³€í™”ê°€ ìˆì„ ì‹œ ì´ë¥¼ ë™ê¸°í™”í•´ì£¼ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— êµ¬ë…í•˜ê³ ì í•˜ëŠ” `key`ê°€ ì—†ì„ ê²½ìš° ë°˜í™˜í•  `initialValue`ë¡œ ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ, `ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)`ì˜ ê²½ìš° ë¡œì»¬ìŠ¤í† ë¦¬ì§€ê°€ ë™ì‘í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— `initialValue`ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.

<br />

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useLocalStorage/index.ts)

## Interface
```ts title="typescript"
interface UseLocalStorageProps<T> {
  key: string;
  initialValue?: T | (() => T) | null;
}

const useLocalStorage: <T>({ key, initialValue }: UseLocalStorageProps<T>) => {
  readonly state: T | null;
  readonly setState: (value: T) => void;
  readonly removeState: () => void;
};
```

## Usage
```tsx title="typescript"
import { useLocalStorage } from '@modern-kit/react';

const Example = () => {
  const { state, setState, removeState } = useLocalStorage({
    key: 'test',
    initialValue: 'default',
  });

  return (
    <div>
      <p>ê°œë°œì ë„êµ¬ì—ì„œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>
      <p>state: {state}</p>
      <button onClick={() => setState('foo')}>
        {`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ "test"keyì— "foo"ë°ì´í„° ì €ì¥`}
      </button>
      <button onClick={() => setState('bar')}>
        {`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ "test"keyì— "bar"ë°ì´í„° ì €ì¥`}
      </button>
      <button onClick={() => removeState()}>
        {`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ "test"key ì œê±°`}
      </button>
    </div>
  );
};
```

## Example

export const Example = () => {
  const { state, setState, removeState } = useLocalStorage({
    key: 'test',
    initialValue: 'default',
  });

  return (
    <div>
      <p>ê°œë°œì ë„êµ¬ì—ì„œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>
      <p>state: {state}</p>
      <button onClick={() => setState('foo')}>
        {`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ "test"keyì— "foo"ë°ì´í„° ì €ì¥`}
      </button>
      <button onClick={() => setState('bar')}>
        {`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ "test"keyì— "bar"ë°ì´í„° ì €ì¥`}
      </button>
      <button onClick={() => removeState()}>
        {`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ "test"key ì œê±°`}
      </button>
    </div>
  );
};


<Example />