import { useHistoryState } from '@modern-kit/react'
import { useState } from 'react'

# useHistoryState

ìƒíƒœì™€ ìƒíƒœ ë³€ê²½ ì´ë ¥ì„ ê´€ë¦¬í•˜ëŠ” í›…ì…ë‹ˆë‹¤.

ìƒíƒœ ë³€ê²½ ì‹œë§ˆë‹¤ ì´ë ¥ì´ ì €ì¥ë˜ë©°, ìƒíƒœ íˆìŠ¤í† ë¦¬ë¥¼ ì´ì „(`back`)ê³¼ ë‹¤ìŒ(`forward`)ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ íŠ¹ì • ì‹œì ì˜ ìƒíƒœë¡œ ì´ë™(`go`)í•  ìˆ˜ ìˆìœ¼ë©°, í˜„ì¬ ìƒíƒœë¥¼ ëŒ€ì²´(`replaceState`)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

ì €ì¥ë˜ëŠ” ì´ë ¥ì˜ ìµœëŒ€ ê°œìˆ˜(`capacity`)ë¥¼ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Code
[ğŸ”— ì‹¤ì œ êµ¬í˜„ ì½”ë“œ í™•ì¸](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useHistoryState/index.ts)

## Interface
```ts title="typescript"
interface UseHistoryStateReturn<T> {
  state: T; // í˜„ì¬ ìƒíƒœ ê°’
  canForward: boolean; // ë‹¤ìŒ ìƒíƒœë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€
  canBack: boolean; // ì´ì „ ìƒíƒœë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€
  setState: (newState: T | ((prevState: T) => T)) => void; 
  // ìƒíƒœ íˆìŠ¤í† ë¦¬ì— ìƒíƒœë¥¼ ì¶”ê°€í•˜ê³  ìƒˆë¡œìš´ ìƒíƒœë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
  replaceState: (newState: T | ((prevState: T) => T)) => void;
  // ìƒíƒœ íˆìŠ¤í† ë¦¬ì˜ í˜„ì¬ ìƒíƒœë¥¼ ëŒ€ì²´í•©ë‹ˆë‹¤.
  back: () => void; // ìƒíƒœ íˆìŠ¤í† ë¦¬ì—ì„œ ì´ì „ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í•¨ìˆ˜
  forward: () => void; // ìƒíƒœ íˆìŠ¤í† ë¦¬ì—ì„œ ë‹¤ìŒ ìƒíƒœë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
  go: (index: number) => void; // ìƒíƒœ íˆìŠ¤í† ë¦¬ì—ì„œ íŠ¹ì • ì¸ë±ìŠ¤ì˜ ìƒíƒœë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
}
```
```ts title="typescript"
function useHistoryState<T>(
  initialValue: T | (() => T),
  capacity?: number): UseHistoryStateReturn<T>;
```

## Usage
```tsx title="typescript"
import { useHistoryState } from '@modern-kit/react'

const Example = () => {
  const {
    state,
    canBack,
    canForward,
    setState,
    replaceState,
    back,
    forward,
    go
  } = useHistoryState(0, 5);

  return (
    <div>
      <p>{state}</p>
      <button onClick={() => setState(state + 1)}>+1 (ìƒˆ íˆìŠ¤í† ë¦¬)</button>
      <button onClick={() => replaceState(state + 10)}>+10 (íˆìŠ¤í† ë¦¬ êµì²´)</button>
      <button onClick={back}>â† ì´ì „</button>
      <button onClick={forward}>ë‹¤ìŒ â†’</button>
      <button onClick={() => go(0)}>ì²˜ìŒìœ¼ë¡œ</button>
      <button onClick={() => go(-1)}>ë§ˆì§€ë§‰ìœ¼ë¡œ</button>
    </div>
  )
}
```

## Example

export const Example = () => {
  const {
    state,
    canBack,
    canForward,
    setState,
    replaceState,
    back,
    forward,
    go
  } = useHistoryState(0, 5);

  // ê³µí†µ ë²„íŠ¼ ìŠ¤íƒ€ì¼
  const buttonBaseStyle = {
    padding: '10px 12px',
    border: 'none',
    borderRadius: '4px',
    fontSize: '14px',
    cursor: 'pointer'
  };

  const getButtonStyle = (bgColor, textColor = 'white', disabled = false) => ({
    ...buttonBaseStyle,
    backgroundColor: disabled ? '#e9ecef' : bgColor,
    color: disabled ? '#6c757d' : textColor,
    cursor: disabled ? 'not-allowed' : 'pointer'
  });

  const containerStyle = {
    padding: '20px',
    border: '1px solid #e2e2e2',
    borderRadius: '8px',
    backgroundColor: '#fafafa',
    maxWidth: '500px'
  };

  const gridStyle = {
    display: 'grid',
    gap: '8px'
  };

  return (
    <div style={containerStyle}>
      <div style={{ textAlign: 'center', marginBottom: '20px' }}>
        <h3 style={{ fontSize: '24px', color: '#333', margin: '0 0 8px 0' }}>
          í˜„ì¬ ê°’: <span style={{ color: '#007acc' }}>{state}</span>
        </h3>
        <p style={{ fontSize: '14px', color: '#666', margin: '0' }}>
          ë’¤ë¡œê°€ê¸° <strong>{canBack ? 'ê°€ëŠ¥' : 'ë¶ˆê°€ëŠ¥'}</strong> |
          ì•ìœ¼ë¡œê°€ê¸° <strong>{canForward ? 'ê°€ëŠ¥' : 'ë¶ˆê°€ëŠ¥'}</strong>
        </p>
      </div>

      <div style={{
        ...gridStyle,
        gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',
        marginBottom: '16px'
      }}>
        <button
          onClick={() => setState(state + 1)}
          style={getButtonStyle('#007acc')}
        >
          +1 (ìƒˆ íˆìŠ¤í† ë¦¬)
        </button>
        <button
          onClick={() => replaceState(state + 10)}
          style={getButtonStyle('#28a745')}
        >
          +10 (íˆìŠ¤í† ë¦¬ êµì²´)
        </button>
      </div>

      <div style={{
        ...gridStyle,
        gridTemplateColumns: 'repeat(auto-fit, minmax(100px, 1fr))'
      }}>
        <button
          onClick={back}
          disabled={!canBack}
          style={getButtonStyle('#6c757d', 'white', !canBack)}
        >
          â† ì´ì „
        </button>
        <button
          onClick={forward}
          disabled={!canForward}
          style={getButtonStyle('#6c757d', 'white', !canForward)}
        >
          ë‹¤ìŒ â†’
        </button>
        <button
          onClick={() => go(0)}
          style={getButtonStyle('#17a2b8')}
        >
          ì²˜ìŒìœ¼ë¡œ
        </button>
        <button
          onClick={() => go(-1)}
          style={getButtonStyle('#ffc107', '#212529')}
        >
          ë§ˆì§€ë§‰ìœ¼ë¡œ
        </button>
      </div>
    </div>
  )
};

<Example />
