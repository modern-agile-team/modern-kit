import { useHistoryState } from '@modern-kit/react'
import { useState } from 'react'

# useHistoryState

μƒνƒμ™€ μƒνƒ λ³€κ²½ μ΄λ ¥μ„ κ΄€λ¦¬ν•λ” ν›…μ…λ‹λ‹¤.

μƒνƒ λ³€κ²½ μ‹λ§λ‹¤ μ΄λ ¥μ΄ μ €μ¥λλ©°, μƒνƒ νμ¤ν† λ¦¬λ¥Ό μ΄μ „(`back`)κ³Ό λ‹¤μ(`forward`)μΌλ΅ μ΄λ™ν•  μ μμµλ‹λ‹¤. λν• νΉμ • μ‹μ μ μƒνƒλ΅ μ΄λ™(`go`)ν•  μ μμΌλ©°, ν„μ¬ μƒνƒλ¥Ό λ€μ²΄(`replaceState`)ν•  μ μμµλ‹λ‹¤. 

μ €μ¥λλ” μ΄λ ¥μ μµλ€ κ°μ(`capacity`)λ¥Ό μ ν•ν•  μ μμµλ‹λ‹¤.

## Code
[π”— μ‹¤μ  κµ¬ν„ μ½”λ“ ν™•μΈ](https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useHistoryState/index.ts)

## Interface
```ts title="typescript"
interface UseHistoryStateReturn<T> {
  state: T; // ν„μ¬ μƒνƒ κ°’
  canForward: boolean; // λ‹¤μ μƒνƒλ΅ μ΄λ™ν•  μ μλ”μ§€ μ—¬λ¶€
  canBack: boolean; // μ΄μ „ μƒνƒλ΅ μ΄λ™ν•  μ μλ”μ§€ μ—¬λ¶€
  setState: (newState: T | ((prevState: T) => T)) => void; 
  // μƒνƒ νμ¤ν† λ¦¬μ— μƒνƒλ¥Ό μ¶”κ°€ν•κ³  μƒλ΅μ΄ μƒνƒλ΅ μ—…λ°μ΄νΈν•©λ‹λ‹¤.
  replaceState: (newState: T | ((prevState: T) => T)) => void;
  // μƒνƒ νμ¤ν† λ¦¬μ— ν„μ¬ μƒνƒλ¥Ό λ€μ²΄ν•κ³  μƒλ΅μ΄ μƒνƒλ΅ μ—…λ°μ΄νΈν•©λ‹λ‹¤.
  back: () => void; // μƒνƒ νμ¤ν† λ¦¬μ—μ„ μ΄μ „ μƒνƒλ΅ λλλ¦¬λ” ν•¨μ
  forward: () => void; // μƒνƒ νμ¤ν† λ¦¬μ—μ„ λ‹¤μ μƒνƒλ΅ μ΄λ™ν•λ” ν•¨μ
  go: (index: number) => void; // μƒνƒ νμ¤ν† λ¦¬μ—μ„ νΉμ • μΈλ±μ¤μ μƒνƒλ΅ μ΄λ™ν•λ” ν•¨μ
}
```
```ts title="typescript"
function useHistoryState<T>(
  initialValue: T | (() => T),
  capacity?: number): UseHistoryStateReturn<T>;
```

## Usage
```tsx title="typescript"
import { useHistoryState } from '@modern-kit/react'

const Example = () => {
  const {
    state,
    canBack,
    canForward,
    setState,
    replaceState,
    back,
    forward,
    go
  } = useHistoryState(0, 5);

  return (
    <div>
      <p>{state}</p>
      <button onClick={() => setState(state + 1)}>+1 (μƒ νμ¤ν† λ¦¬)</button>
      <button onClick={() => replaceState(state + 10)}>+10 (νμ¤ν† λ¦¬ κµμ²΄)</button>
      <button onClick={back}>β† μ΄μ „</button>
      <button onClick={forward}>λ‹¤μ β†’</button>
      <button onClick={() => go(0)}>μ²μμΌλ΅</button>
      <button onClick={() => go(-1)}>λ§μ§€λ§‰μΌλ΅</button>
    </div>
  )
}
```

## Example

export const Example = () => {
  const {
    state,
    canBack,
    canForward,
    setState,
    replaceState,
    back,
    forward,
    go
  } = useHistoryState(0, 5);

  // κ³µν†µ λ²„νΌ μ¤νƒ€μΌ
  const buttonBaseStyle = {
    padding: '10px 12px',
    border: 'none',
    borderRadius: '4px',
    fontSize: '14px',
    cursor: 'pointer'
  };

  const getButtonStyle = (bgColor, textColor = 'white', disabled = false) => ({
    ...buttonBaseStyle,
    backgroundColor: disabled ? '#e9ecef' : bgColor,
    color: disabled ? '#6c757d' : textColor,
    cursor: disabled ? 'not-allowed' : 'pointer'
  });

  const containerStyle = {
    padding: '20px',
    border: '1px solid #e2e2e2',
    borderRadius: '8px',
    backgroundColor: '#fafafa',
    maxWidth: '500px'
  };

  const gridStyle = {
    display: 'grid',
    gap: '8px'
  };

  return (
    <div style={containerStyle}>
      <div style={{ textAlign: 'center', marginBottom: '20px' }}>
        <h3 style={{ fontSize: '24px', color: '#333', margin: '0 0 8px 0' }}>
          ν„μ¬ κ°’: <span style={{ color: '#007acc' }}>{state}</span>
        </h3>
        <p style={{ fontSize: '14px', color: '#666', margin: '0' }}>
          λ’¤λ΅κ°€κΈ° <strong>{canBack ? 'κ°€λ¥' : 'λ¶κ°€λ¥'}</strong> |
          μ•μΌλ΅κ°€κΈ° <strong>{canForward ? 'κ°€λ¥' : 'λ¶κ°€λ¥'}</strong>
        </p>
      </div>

      <div style={{
        ...gridStyle,
        gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',
        marginBottom: '16px'
      }}>
        <button
          onClick={() => setState(state + 1)}
          style={getButtonStyle('#007acc')}
        >
          +1 (μƒ νμ¤ν† λ¦¬)
        </button>
        <button
          onClick={() => replaceState(state + 10)}
          style={getButtonStyle('#28a745')}
        >
          +10 (νμ¤ν† λ¦¬ κµμ²΄)
        </button>
      </div>

      <div style={{
        ...gridStyle,
        gridTemplateColumns: 'repeat(auto-fit, minmax(100px, 1fr))'
      }}>
        <button
          onClick={back}
          disabled={!canBack}
          style={getButtonStyle('#6c757d', 'white', !canBack)}
        >
          β† μ΄μ „
        </button>
        <button
          onClick={forward}
          disabled={!canForward}
          style={getButtonStyle('#6c757d', 'white', !canForward)}
        >
          λ‹¤μ β†’
        </button>
        <button
          onClick={() => go(0)}
          style={getButtonStyle('#17a2b8')}
        >
          μ²μμΌλ΅
        </button>
        <button
          onClick={() => go(-1)}
          style={getButtonStyle('#ffc107', '#212529')}
        >
          λ§μ§€λ§‰μΌλ΅
        </button>
      </div>
    </div>
  )
};

<Example />
