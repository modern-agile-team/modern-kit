"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[8440],{842:(e,n,t)=>{t.r(n),t.d(n,{Example:()=>g,assets:()=>h,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"react/components/FallbackLazyImage","title":"FallbackLazyImage","description":"LazyImage \ucef4\ud3ec\ub10c\ud2b8 \ub97c \ud655\uc7a5\ud574 \uc774\ubbf8\uc9c0 load \uc5ec\ubd80\uc5d0 \ub530\ub978 Fallback \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub80c\ub354\ub9c1 \ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8 \uc785\ub2c8\ub2e4.","source":"@site/docs/react/components/FallbackLazyImage.mdx","sourceDirName":"react/components","slug":"/react/components/FallbackLazyImage","permalink":"/modern-kit/docs/react/components/FallbackLazyImage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"EventExtender","permalink":"/modern-kit/docs/react/components/EventExtender"},"next":{"title":"IfElse","permalink":"/modern-kit/docs/react/components/IfElse"}}');var a=t(6206),s=t(3267),i=t(4382),c=t(396);const l=(0,i.forwardRef)((({width:e,height:n,fallback:t,style:r,duration:s="0.2s",onLoad:l,...o},d)=>{const[h,g]=(0,i.useState)(!1),p=!h,m=(0,i.useMemo)((()=>({position:"relative",width:e,height:n})),[e,n]),u=(0,i.useMemo)((()=>({position:"absolute",top:0,left:0,opacity:p?0:1,transition:`opacity ${s}`,...r})),[p,s,r]),x=(0,i.useCallback)((e=>{l&&l(e),g(!0)}),[l]);return(0,a.jsxs)("div",{style:m,children:[p&&t,(0,a.jsx)(c.o,{ref:d,width:e,height:n,style:u,onLoad:x,...o})]})}));l.displayName="FallbackLazyImage";const o={},d="FallbackLazyImage",h={},g=()=>{const e={div:"div",...(0,s.R)()},n={width:"500px",height:"500px",backgroundColor:"green"};return(0,a.jsxs)(e.div,{style:{background:"#f8f8f8",width:"500px"},children:[(0,a.jsx)(e.div,{style:{height:"500px",textAlign:"center",fontSize:"2rem"},children:"\uc2a4\ud06c\ub864 \ud574\uc8fc\uc138\uc694."}),(0,a.jsx)(l,{fallback:(0,a.jsx)(e.div,{style:n}),src:"https://github.com/Team-Grace/devgrace/assets/64779472/b5640bec-2abc-4205-afbf-ccfd9876a90b",alt:"img1",width:500,height:500}),(0,a.jsx)(e.div,{style:{width:"100%",height:"150px"}}),(0,a.jsx)(l,{fallback:(0,a.jsx)(e.div,{style:n}),src:"https://github.com/Team-Grace/devgrace/assets/64779472/207743a7-b29f-4826-bc08-8df0d67e568b",alt:"img2",width:500,height:500}),(0,a.jsx)(e.div,{style:{width:"100%",height:"150px"}}),(0,a.jsx)(l,{fallback:(0,a.jsx)(e.div,{style:n}),src:"https://github.com/Team-Grace/devgrace/assets/64779472/d1957ec8-fe87-406e-bfda-fb4ee505b152",alt:"img3",width:500,height:500})]})},p=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Default",id:"default",level:3},{value:"Wrapper Styling: css",id:"wrapper-styling-css",level:3},{value:"Wrapper Styling: css-in-js",id:"wrapper-styling-css-in-js",level:3},{value:"Example",id:"example",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"fallbacklazyimage",children:"FallbackLazyImage"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"https://modern-agile-team.github.io/modern-kit/docs/react/components/LazyImage",children:"LazyImage \ucef4\ud3ec\ub10c\ud2b8"})})," \ub97c \ud655\uc7a5\ud574 \uc774\ubbf8\uc9c0 ",(0,a.jsx)(n.code,{children:"load \uc5ec\ubd80"}),"\uc5d0 \ub530\ub978 ",(0,a.jsx)(n.code,{children:"Fallback \ucef4\ud3ec\ub10c\ud2b8"}),"\ub97c \ub80c\ub354\ub9c1 \ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8 \uc785\ub2c8\ub2e4."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"src"}),"\uc640 \ub354\ubd88\uc5b4 ",(0,a.jsx)(n.code,{children:"width"}),", ",(0,a.jsx)(n.code,{children:"height"}),", ",(0,a.jsx)(n.code,{children:"fallback"})," props\ub97c \ud544\uc218\ub85c \ub118\uaca8\uc918\uc57c \ud558\uba70, fallback\uc758 \ud06c\uae30\ub294 \ud574\ub2f9 width, height\uc640 \ub3d9\uc77c\ud558\uac8c \ub9de\ucd94\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"duration"})," props\ub294 \uc2e4\uc81c \uc774\ubbf8\uc9c0\uac00 load \ub41c \ud6c4, fallback \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc2e4\uc81c \uc774\ubbf8\uc9c0\ub85c \uc804\ud658 \ub420 \ub54c \uc0ac\uc6a9\ud558\ub294 ",(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/transition-duration",children:"transition-duration"})})," \uac12\uc785\ub2c8\ub2e4."]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/components/FallbackLazyImage/index.tsx",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,a.jsx)(n.h2,{id:"interface",children:"Interface"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"interface IntersectionObserverInit {\n  root?: Element | Document | null;\n  rootMargin?: string;\n  threshold?: number | number[];\n}\n\ninterface LazyImageProps\n  extends React.ComponentProps<'img'>,\n    IntersectionObserverInit {\n  src: string;\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"interface FallbackLazyImageProps extends LazyImageProps {\n  fallback: JSX.Element;\n  width: string | number;\n  height: string | number;\n  duration?: CSSProperties['transitionDuration']; // default: 0.2s\n}\n\nconst FallbackLazyImage: React.ForwardRefExoticComponent<\n  Omit<FallbackLazyImageProps, 'ref'> & React.RefAttributes<HTMLImageElement>\n>;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.h3,{id:"default",children:"Default"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="typescript"',children:"import { FallbackLazyImage } from '@modern-kit/react';\nimport img1 from '../assets/img1.png';\n\nconst Example = () => {\n  const skeletonStyle = useMemo(\n    () => ({\n      width: '400px', // \uc2e4\uc81c img \ud06c\uae30\uc640 \ub3d9\uc77c\ud558\uac8c \ub9de\ucdb0\uc8fc\uc138\uc694.\n      height: '400px', // \uc2e4\uc81c img \ud06c\uae30\uc640 \ub3d9\uc77c\ud558\uac8c \ub9de\ucdb0\uc8fc\uc138\uc694.\n      backgroundColor: 'green',\n    }),\n    []\n  );\n  return (\n    <div>\n      <FallbackLazyImage\n        fallback={<div style={skeletonStyle} />}\n        width={400}\n        height={400}\n        src={img1}\n        alt=\"img1\"\n      />\n    </div>\n  );\n};\n"})}),"\n",(0,a.jsx)(n.h3,{id:"wrapper-styling-css",children:"Wrapper Styling: css"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["FallbackLazyImage \ucef4\ud3ec\ub10c\ud2b8 \ub0b4 ",(0,a.jsx)(n.code,{children:"Image Wrapper"}),"\ub294 \uae30\ubcf8\uc801\uc73c\ub85c ",(0,a.jsx)(n.code,{children:"lazy-image-wrapper"})," \ud074\ub798\uc2a4\ub97c \uac16\uc2b5\ub2c8\ub2e4. \ud574\ub2f9 \ud074\ub798\uc2a4\ub97c \ud65c\uc6a9\ud558\uc5ec \uc2a4\ud0c0\uc77c\uc744 \uc81c\uc5b4 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-css",children:"/* css stylesheet */\n.lazy-image-wrapper {\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.lazy-image-wrapper > img {\n  /* image styling */\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"<FallbackLazyImage {/* ...props */} />\n"})}),"\n",(0,a.jsx)(n.h3,{id:"wrapper-styling-css-in-js",children:"Wrapper Styling: css-in-js"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"css-in-js"}),"\uc758 ",(0,a.jsx)(n.code,{children:"\uc0c1\uc18d"}),"\uae30\ub2a5\uc744 \ud65c\uc6a9\ud558\uc5ec \uc0c8\ub85c\uc6b4 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc791\uc131 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"const Image = styled(FallbackLazyImage)`\n  border-radius: 12px;\n  overflow: hidden;\n\n  & > img {\n    /* image styling */\n  }\n`;\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"<Image {/* ...props */} />\n"})}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n","\n",(0,a.jsx)(g,{})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},3267:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(4382);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}},29:(e,n,t)=>{function r(e){return"function"==typeof e}t.d(n,{i:()=>r})},4124:(e,n,t)=>{function r(){}t.d(n,{n:()=>r})},396:(e,n,t)=>{t.d(n,{o:()=>c});var r=t(6206),a=t(4382),s=t(4671),i=t(2118);const c=(0,a.forwardRef)((({src:e,threshold:n,root:t,rootMargin:a,...c},l)=>{const{ref:o}=(0,s.B)({onIntersectStart:n=>{n.target.src=e},calledOnce:!0,threshold:n,root:t,rootMargin:a});return(0,r.jsx)("img",{ref:(0,i.P)(l,o),...c})}));c.displayName="LazyImage"},4671:(e,n,t)=>{t.d(n,{B:()=>i});var r=t(4382),a=t(9705),s=t(4124);function i({onIntersectStart:e=s.n,onIntersectEnd:n=s.n,enabled:t=!0,calledOnce:i=!1,root:c=null,threshold:l=0,rootMargin:o="0px 0px 0px 0px"}={}){const[d,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),m=(0,r.useRef)(null),u=(0,r.useRef)(0),x=(0,a.p)((([t],r)=>{if(!t)return;const a=t.target;h(t.isIntersecting),t.isIntersecting?(u.current+=1,p(!0),e(t)):d&&(u.current+=1,n(t)),i&&u.current>1&&r.unobserve(a)}));return{ref:(0,r.useCallback)((e=>{m.current&&(m.current.disconnect(),m.current=null),null!=e&&t&&(m.current=new IntersectionObserver(x,{threshold:l,root:c,rootMargin:o}),m.current.observe(e))}),[t,l,c,o,x]),isIntersecting:d,hasIntersected:g}}},9705:(e,n,t)=>{t.d(n,{p:()=>a});var r=t(4382);function a(e){const n=(0,r.useRef)(e);return n.current=e,(0,r.useCallback)(((...e)=>n.current(...e)),[])}},2118:(e,n,t)=>{t.d(n,{P:()=>a});var r=t(29);const a=(...e)=>n=>e.forEach((e=>{if((0,r.i)(e))e(n);else if(null!=e){e.current=n}}))}}]);