"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[5870],{3022:(e,t,r)=>{r.r(t),r.d(t,{Example:()=>a,assets:()=>u,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"react/hooks/useComputedStyleObserver","title":"useComputedStyleObserver","description":"\uad00\ucc30\ud560 \ud0c0\uac9f \uc694\uc18c\uc758 \ud2b9\uc815 computed style \uac12\uc744 \uc2e4\uc2dc\uac04\uc73c\ub85c \uad00\ucc30\ud558\uace0 \uad00\ub9ac\ud558\ub294 React \ud6c5","source":"@site/docs/react/hooks/useComputedStyleObserver.mdx","sourceDirName":"react/hooks","slug":"/react/hooks/useComputedStyleObserver","permalink":"/modern-kit/docs/react/hooks/useComputedStyleObserver","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"useColorScheme","permalink":"/modern-kit/docs/react/hooks/useColorScheme"},"next":{"title":"useControllableState","permalink":"/modern-kit/docs/react/hooks/useControllableState"}}');var s=r(6206),o=r(3267),l=r(4382);const c={},i="useComputedStyleObserver",u={},a=()=>{const e={br:"br",button:"button",div:"div",p:"p",...(0,o.R)()},{ref:t,value:r,setValue:n}=function(e){const t=(0,l.useRef)(null),r=(0,l.useRef)(null),[n,s]=(0,l.useState)(""),o=(0,l.useCallback)((r=>{t.current&&(t.current.style.setProperty(e,r),s(r))}),[e]),c=(0,l.useCallback)((()=>{if(!t.current)return;const r=t.current,n=window.getComputedStyle(r).getPropertyValue(e).trim();s(n)}),[e]);return(0,l.useEffect)((()=>{if(!t.current)return;const e=t.current;return c(),r.current=new MutationObserver(c),r.current.observe(e,{attributeFilter:["style","class"]}),()=>{r.current?.disconnect()}}),[c]),{ref:t,value:n,setValue:o}}("width");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.div,{ref:t,style:{width:"100px",height:"100px",backgroundColor:"skyblue"}}),(0,s.jsxs)(e.div,{children:[(0,s.jsxs)(e.p,{children:["\ud604\uc7ac \ub108\ube44: ",`${r}`]}),(0,s.jsx)(e.button,{onClick:()=>n("100px"),children:"\ub108\ube44 100px\ub85c \ubcc0\uacbd(setValue)"}),(0,s.jsx)(e.button,{onClick:()=>n("300px"),children:"\ub108\ube44 300px\ub85c \ubcc0\uacbd(setValue)"}),(0,s.jsx)(e.br,{}),(0,s.jsx)(e.button,{onClick:()=>t.current?.style.setProperty("width","100px"),children:"\ub108\ube44 100px\ub85c \ubcc0\uacbd(setProperty)"}),(0,s.jsx)(e.button,{onClick:()=>t.current?.style.setProperty("width","300px"),children:"\ub108\ube44 300px\ub85c \ubcc0\uacbd(setProperty)"})]})]})},d=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"usecomputedstyleobserver",children:"useComputedStyleObserver"})}),"\n",(0,s.jsxs)(t.p,{children:["\uad00\ucc30\ud560 \ud0c0\uac9f \uc694\uc18c\uc758 \ud2b9\uc815 ",(0,s.jsx)(t.code,{children:"computed style"})," \uac12\uc744 ",(0,s.jsx)(t.code,{children:"\uc2e4\uc2dc\uac04\uc73c\ub85c \uad00\ucc30\ud558\uace0 \uad00\ub9ac"}),"\ud558\ub294 React \ud6c5"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe",children:"MutationObserver"})})," \ub97c \uc0ac\uc6a9\ud558\uc5ec \uc694\uc18c\uc758 \uc2a4\ud0c0\uc77c \uc18d\uc131\uc774 \ubcc0\uacbd\ub420 \ub54c \ucf5c\ubc31\uc744 \ud638\ucd9c\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty",children:"CSSStyleDeclaration: setProperty"})})," \ub97c \uc0ac\uc6a9\ud558\uc5ec \uc694\uc18c\uc758 \uc2a4\ud0c0\uc77c \uc18d\uc131\uc744 \uc9c1\uc811 \ubcc0\uacbd\ud558\ub354\ub77c\ub3c4 \uc774\ub97c \uc2e4\uc2dc\uac04\uc73c\ub85c \ubc18\uc601\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"code",children:"Code"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useComputedStyleObserver/index.ts",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,s.jsx)(t.h2,{id:"interface",children:"Interface"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",metastring:'title="typescript"',children:"interface UseComputedStyleObserverReturnType<T extends HTMLElement> {\n  ref: React.RefObject<T>;\n  value: string;\n  setValue: (value: string) => void;\n}\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",metastring:'title="typescript"',children:"function useComputedStyleObserver<T extends HTMLElement>(\n  key: string\n): UseComputedStyleObserverReturnType<T>;\n"})}),"\n",(0,s.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",metastring:'title="typescript"',children:"import { useComputedStyleObserver } from '@modern-kit/react';\n\nconst Example = () => {\n  const { ref, value, setValue } =\n    useComputedStyleObserver<HTMLDivElement>('color');\n\n  return (\n    <>\n      <div ref={ref} style={{ width: '100px', height: '100px', backgroundColor: 'skyblue' }} />\n      <div>\n        <p>\ud604\uc7ac \ub108\ube44: {`${value}`}</p>\n        <button onClick={() => setValue('100px')}>\ub108\ube44 100px\ub85c \ubcc0\uacbd(setValue)</button>\n        <button onClick={() => setValue('300px')}>\ub108\ube44 300px\ub85c \ubcc0\uacbd(setValue)</button>\n\n        <br />\n\n        <button onClick={() => ref.current?.style.setProperty('width', '100px')}>\ub108\ube44 100px\ub85c \ubcc0\uacbd(setProperty)</button>\n        <button onClick={() => ref.current?.style.setProperty('width', '300px')}>\ub108\ube44 300px\ub85c \ubcc0\uacbd(setProperty)</button>\n      </div>\n    </>\n  );\n};\n"})}),"\n",(0,s.jsx)(t.h2,{id:"example",children:"Example"}),"\n","\n",(0,s.jsx)(a,{})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},3267:(e,t,r)=>{r.d(t,{R:()=>l,x:()=>c});var n=r(4382);const s={},o=n.createContext(s);function l(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);