"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[4631],{9906:(e,t,n)=>{n.r(t),n.d(t,{Example:()=>u,assets:()=>d,contentTitle:()=>l,default:()=>x,frontMatter:()=>c,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"react/hooks/useHistoryState","title":"useHistoryState","description":"\uc0c1\ud0dc\uc640 \uc0c1\ud0dc \ubcc0\uacbd \uc774\ub825\uc744 \uad00\ub9ac\ud558\ub294 \ud6c5\uc785\ub2c8\ub2e4.","source":"@site/docs/react/hooks/useHistoryState.mdx","sourceDirName":"react/hooks","slug":"/react/hooks/useHistoryState","permalink":"/modern-kit/docs/react/hooks/useHistoryState","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"useForceUpdate","permalink":"/modern-kit/docs/react/hooks/useForceUpdate"},"next":{"title":"useHover","permalink":"/modern-kit/docs/react/hooks/useHover"}}');var o=n(6206),s=n(3267),i=n(3868);var a=n(4382);const c={},l="useHistoryState",d={},u=()=>{const e={button:"button",div:"div",h3:"h3",p:"p",span:"span",strong:"strong",...(0,s.R)()},{state:t,canBack:n,canForward:r,setState:c,replaceState:l,back:d,forward:u,go:p}=function(e,t=10){const n=(0,i.T)(e)?e():e,[r,o]=(0,a.useState)({history:[n],current:n,pointer:0}),s=(0,a.useMemo)((()=>r.pointer<r.history.length-1),[r.pointer,r.history.length]),c=(0,a.useMemo)((()=>r.pointer>0),[r.pointer]),l=(0,a.useCallback)((e=>{o((n=>{const r=[...n.history],o=(0,i.T)(e)?e(r[n.pointer]):e;return r.length===t&&r.shift(),r.push(o),{history:r,current:o,pointer:r.length-1}}))}),[t]),d=(0,a.useCallback)((e=>{o((t=>{const n=[...t.history],r=(0,i.T)(e)?e(n[t.pointer]):e;return n[t.pointer]=r,{...t,history:n,current:r}}))}),[]),u=(0,a.useCallback)((()=>{o((e=>{if(e.pointer<1)return e;const t=e.pointer-1;return{...e,current:e.history[t],pointer:t}}))}),[]),p=(0,a.useCallback)((()=>{o((e=>{if(e.pointer>=e.history.length-1)return e;const t=e.pointer+1;return{...e,current:e.history[t],pointer:t}}))}),[]),h=(0,a.useCallback)((e=>{o((t=>{const n=function(e,t=0){const n=e.length,r=t<0?n+t:t;if(!(r<0||r>=n))return e[r]}(t.history,e);if(null==n)return t;const r=e<0?t.history.length+e:e;return{...t,current:n,pointer:r}}))}),[]);return{state:r.current,canForward:s,canBack:c,setState:l,replaceState:d,forward:p,back:u,go:h}}(0,5),h={padding:"10px 12px",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},x=(e,t="white",n=!1)=>({...h,backgroundColor:n?"#e9ecef":e,color:n?"#6c757d":t,cursor:n?"not-allowed":"pointer"}),m={display:"grid",gap:"8px"};return(0,o.jsxs)(e.div,{style:{padding:"20px",border:"1px solid #e2e2e2",borderRadius:"8px",backgroundColor:"#fafafa",maxWidth:"500px"},children:[(0,o.jsxs)(e.div,{style:{textAlign:"center",marginBottom:"20px"},children:[(0,o.jsxs)(e.h3,{style:{fontSize:"24px",color:"#333",margin:"0 0 8px 0"},children:["\ud604\uc7ac \uac12: ",(0,o.jsx)(e.span,{style:{color:"#007acc"},children:t})]}),(0,o.jsxs)(e.p,{style:{fontSize:"14px",color:"#666",margin:"0"},children:["\ub4a4\ub85c\uac00\uae30 ",(0,o.jsx)(e.strong,{children:n?"\uac00\ub2a5":"\ubd88\uac00\ub2a5"})," | \uc55e\uc73c\ub85c\uac00\uae30 ",(0,o.jsx)(e.strong,{children:r?"\uac00\ub2a5":"\ubd88\uac00\ub2a5"})]})]}),(0,o.jsxs)(e.div,{style:{...m,gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",marginBottom:"16px"},children:[(0,o.jsx)(e.button,{onClick:()=>c(t+1),style:x("#007acc"),children:"+1 (\uc0c8 \ud788\uc2a4\ud1a0\ub9ac)"}),(0,o.jsx)(e.button,{onClick:()=>l(t+10),style:x("#28a745"),children:"+10 (\ud788\uc2a4\ud1a0\ub9ac \uad50\uccb4)"})]}),(0,o.jsxs)(e.div,{style:{...m,gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[(0,o.jsx)(e.button,{onClick:d,disabled:!n,style:x("#6c757d","white",!n),children:"\u2190 \uc774\uc804"}),(0,o.jsx)(e.button,{onClick:u,disabled:!r,style:x("#6c757d","white",!r),children:"\ub2e4\uc74c \u2192"}),(0,o.jsx)(e.button,{onClick:()=>p(0),style:x("#17a2b8"),children:"\ucc98\uc74c\uc73c\ub85c"}),(0,o.jsx)(e.button,{onClick:()=>p(-1),style:x("#ffc107","#212529"),children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c"})]})]})},p=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"usehistorystate",children:"useHistoryState"})}),"\n",(0,o.jsx)(t.p,{children:"\uc0c1\ud0dc\uc640 \uc0c1\ud0dc \ubcc0\uacbd \uc774\ub825\uc744 \uad00\ub9ac\ud558\ub294 \ud6c5\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsxs)(t.p,{children:["\uc0c1\ud0dc \ubcc0\uacbd \uc2dc\ub9c8\ub2e4 \uc774\ub825\uc774 \uc800\uc7a5\ub418\uba70, \uc0c1\ud0dc \ud788\uc2a4\ud1a0\ub9ac\ub97c \uc774\uc804(",(0,o.jsx)(t.code,{children:"back"}),")\uacfc \ub2e4\uc74c(",(0,o.jsx)(t.code,{children:"forward"}),")\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \ud2b9\uc815 \uc2dc\uc810\uc758 \uc0c1\ud0dc\ub85c \uc774\ub3d9(",(0,o.jsx)(t.code,{children:"go"}),")\ud560 \uc218 \uc788\uc73c\uba70, \ud604\uc7ac \uc0c1\ud0dc\ub97c \ub300\uccb4(",(0,o.jsx)(t.code,{children:"replaceState"}),")\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(t.p,{children:["\uc800\uc7a5\ub418\ub294 \uc774\ub825\uc758 \ucd5c\ub300 \uac1c\uc218(",(0,o.jsx)(t.code,{children:"capacity"}),")\ub97c \uc81c\ud55c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(t.h2,{id:"code",children:"Code"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useHistoryState/index.ts",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,o.jsx)(t.h2,{id:"interface",children:"Interface"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="typescript"',children:"interface UseHistoryStateReturn<T> {\n  state: T; // \ud604\uc7ac \uc0c1\ud0dc \uac12\n  canForward: boolean; // \ub2e4\uc74c \uc0c1\ud0dc\ub85c \uc774\ub3d9\ud560 \uc218 \uc788\ub294\uc9c0 \uc5ec\ubd80\n  canBack: boolean; // \uc774\uc804 \uc0c1\ud0dc\ub85c \uc774\ub3d9\ud560 \uc218 \uc788\ub294\uc9c0 \uc5ec\ubd80\n  setState: (newState: T | ((prevState: T) => T)) => void; \n  // \uc0c1\ud0dc \ud788\uc2a4\ud1a0\ub9ac\uc5d0 \uc0c1\ud0dc\ub97c \ucd94\uac00\ud558\uace0 \uc0c8\ub85c\uc6b4 \uc0c1\ud0dc\ub85c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.\n  replaceState: (newState: T | ((prevState: T) => T)) => void;\n  // \uc0c1\ud0dc \ud788\uc2a4\ud1a0\ub9ac\uc758 \ud604\uc7ac \uc0c1\ud0dc\ub97c \ub300\uccb4\ud569\ub2c8\ub2e4.\n  back: () => void; // \uc0c1\ud0dc \ud788\uc2a4\ud1a0\ub9ac\uc5d0\uc11c \uc774\uc804 \uc0c1\ud0dc\ub85c \ub418\ub3cc\ub9ac\ub294 \ud568\uc218\n  forward: () => void; // \uc0c1\ud0dc \ud788\uc2a4\ud1a0\ub9ac\uc5d0\uc11c \ub2e4\uc74c \uc0c1\ud0dc\ub85c \uc774\ub3d9\ud558\ub294 \ud568\uc218\n  go: (index: number) => void; // \uc0c1\ud0dc \ud788\uc2a4\ud1a0\ub9ac\uc5d0\uc11c \ud2b9\uc815 \uc778\ub371\uc2a4\uc758 \uc0c1\ud0dc\ub85c \uc774\ub3d9\ud558\ub294 \ud568\uc218\n}\n"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="typescript"',children:"function useHistoryState<T>(\n  initialValue: T | (() => T),\n  capacity?: number): UseHistoryStateReturn<T>;\n"})}),"\n",(0,o.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-tsx",metastring:'title="typescript"',children:"import { useHistoryState } from '@modern-kit/react'\n\nconst Example = () => {\n  const {\n    state,\n    canBack,\n    canForward,\n    setState,\n    replaceState,\n    back,\n    forward,\n    go\n  } = useHistoryState(0, 5);\n\n  return (\n    <div>\n      <p>{state}</p>\n      <button onClick={() => setState(state + 1)}>+1 (\uc0c8 \ud788\uc2a4\ud1a0\ub9ac)</button>\n      <button onClick={() => replaceState(state + 10)}>+10 (\ud788\uc2a4\ud1a0\ub9ac \uad50\uccb4)</button>\n      <button onClick={back}>\u2190 \uc774\uc804</button>\n      <button onClick={forward}>\ub2e4\uc74c \u2192</button>\n      <button onClick={() => go(0)}>\ucc98\uc74c\uc73c\ub85c</button>\n      <button onClick={() => go(-1)}>\ub9c8\uc9c0\ub9c9\uc73c\ub85c</button>\n    </div>\n  )\n}\n"})}),"\n",(0,o.jsx)(t.h2,{id:"example",children:"Example"}),"\n","\n",(0,o.jsx)(u,{})]})}function x(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},3267:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(4382);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}},3868:(e,t,n)=>{function r(e){return"function"==typeof e}n.d(t,{T:()=>r})}}]);