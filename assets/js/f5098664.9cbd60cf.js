"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[7825],{8052:(e,n,t)=>{t.r(n),t.d(n,{Example:()=>u,assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>f});const s=JSON.parse('{"id":"react/hooks/useAsyncEffect","title":"useAsyncEffect","description":"\uc77c\ubc18\uc801\uc73c\ub85c useEffect\uc5d0 \uc804\ub2ec\ud558\ub294 \ucf5c\ubc31 \ud568\uc218\ub294 \ube44\ub3d9\uae30 \ud568\uc218\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","source":"@site/docs/react/hooks/useAsyncEffect.mdx","sourceDirName":"react/hooks","slug":"/react/hooks/useAsyncEffect","permalink":"/modern-kit/docs/react/hooks/useAsyncEffect","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"useArrayState","permalink":"/modern-kit/docs/react/hooks/useArrayState"},"next":{"title":"useBeforeUnload","permalink":"/modern-kit/docs/react/hooks/useBeforeUnload"}}');var c=t(6206),a=t(3267),o=t(4382);var r=t(6370);const i={},l="useAsyncEffect",d={},u=()=>{const e={button:"button",div:"div",p:"p",...(0,a.R)()},[n,t]=(0,o.useState)(null),[s,i]=(0,o.useState)(1);return function(e,n=[]){(0,o.useEffect)((()=>{(async()=>{await e()})()}),n)}((async()=>{const e=await fetch(`https://jsonplaceholder.typicode.com/posts/${s}`),n=await e.json();t(n)}),[s]),(0,c.jsxs)(e.div,{children:[(0,c.jsx)(r.a,{wait:500,capture:"onClick",children:(0,c.jsxs)(e.button,{onClick:()=>i(s+1),children:["ID Change: ",s]})}),(0,c.jsxs)(e.p,{children:["ID: ",n?.id]}),(0,c.jsxs)(e.p,{children:["TITLE: ",n?.title]}),(0,c.jsxs)(e.p,{children:["BODY: ",n?.body]})]})},f=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"useasynceffect",children:"useAsyncEffect"})}),"\n",(0,c.jsxs)(n.p,{children:["\uc77c\ubc18\uc801\uc73c\ub85c ",(0,c.jsx)(n.code,{children:"useEffect"}),"\uc5d0 \uc804\ub2ec\ud558\ub294 \ucf5c\ubc31 \ud568\uc218\ub294 \ube44\ub3d9\uae30 \ud568\uc218\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"useAsyncEffect"}),"\ub294 ",(0,c.jsx)(n.code,{children:"\ube44\ub3d9\uae30 \ud568\uc218"}),"\ub97c ",(0,c.jsx)(n.code,{children:"useEffect"}),"\uc640 \ud568\uaed8 \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useAsyncEffect/index.ts",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,c.jsx)(n.h2,{id:"interface",children:"Interface"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"function useAsyncEffect(effectCallback: () => Promise<void>, deps?: DependencyList): void\n"})}),"\n",(0,c.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",metastring:'title="typescript"',children:"import { useAsyncEffect, DebounceHandler } from '@modern-kit/react'\n\nconst Example = () => {\n  const [data, setData] = useState(null)\n  const [id, setId] = useState(1);\n\n  const fetchData = async () => {\n    const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`)\n    const data = await res.json()\n    setData(data)\n  }\n\n  useAsyncEffect(fetchData, [id]);\n\n  return (\n    <div>\n      {/* DebounceHandler\ub97c \ud65c\uc6a9\ud574 \ubc84\ud2bc \ud074\ub9ad \uc774\ubca4\ud2b8\ub97c \ub514\ubc14\uc6b4\uc2a4 \ucc98\ub9ac\ud569\ub2c8\ub2e4. */}\n      <DebounceHandler wait={500} capture={'onClick'}>\n        <button onClick={() => setId(id + 1)}>ID Change: {id}</button>\n      </DebounceHandler>\n      <p>ID: {data?.id}</p>\n      <p>TITLE: {data?.title}</p>\n      <p>BODY: {data?.body}</p>\n    </div>\n  );\n}\n"})}),"\n",(0,c.jsx)(n.h2,{id:"example",children:"Example"}),"\n","\n",(0,c.jsx)(u,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(p,{...e})}):p(e)}},3267:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(4382);const c={},a=s.createContext(c);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(a.Provider,{value:n},e.children)}},6370:(e,n,t)=>{t.d(n,{a:()=>o});var s=t(4382),c=t(4180),a=t(3868);const o=({children:e,capture:n,wait:t,options:o})=>{const r=s.Children.only(e),i=(0,c.d)(((...e)=>{const t=r?.props;if(t)return(0,a.T)(t[n])?t[n](...e):void 0}),t,o);return(0,s.cloneElement)(r,{[n]:i})}},4180:(e,n,t)=>{t.d(n,{d:()=>r});var s=t(9682),c=t(4382),a=t(8684),o=t(9705);function r(e,n,t={}){const r=(0,o.p)(e),{signal:i,leading:l=!1,trailing:d=!0,maxWait:u}=t??{},f=(0,c.useMemo)((()=>(0,s.s)(r,n,{signal:i,leading:l,trailing:d,..."number"==typeof u&&{maxWait:u}})),[r,n,i,l,d,u]);return(0,a.i)((()=>f.cancel())),f}},9705:(e,n,t)=>{t.d(n,{p:()=>c});var s=t(4382);function c(e){const n=(0,s.useRef)(e);return n.current=e,(0,s.useCallback)(((...e)=>n.current(...e)),[])}},8684:(e,n,t)=>{t.d(n,{i:()=>a});var s=t(9705),c=t(4382);function a(e){const n=(0,s.p)(e);(0,c.useEffect)((()=>()=>n()),[n])}},9682:(e,n,t)=>{function s(e,n,t={}){let s,c=null,a=null,o=null;const{signal:r,leading:i=!1,trailing:l=!0,maxWait:d}=t,u=()=>{null!=c&&(e.apply(s,c),s=void 0,c=null,a=null)},f=()=>{l&&u(),m()},p=()=>{null!=o&&clearTimeout(o);const e=(()=>{if("number"==typeof d&&null!=a){const e=Date.now()-a,t=d-e;return t<=0?void f():Math.min(n,t)}return n})();o=setTimeout((()=>{o=null,f()}),e)},h=()=>{null!=o&&(clearTimeout(o),o=null)},m=()=>{h(),s=void 0,c=null,a=null},x=function(...e){if(r?.aborted)return;s=this,c=e;const n=null==o;n&&(a=Date.now()),p(),i&&n&&u()};return x.cancel=m,x.flush=()=>{h(),u(),a=null},r?.addEventListener("abort",m,{once:!0}),x}t.d(n,{s:()=>s})},3868:(e,n,t)=>{function s(e){return"function"==typeof e}t.d(n,{T:()=>s})}}]);