"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[9455],{1132:(e,n,t)=>{t.r(n),t.d(n,{Example:()=>f,assets:()=>p,contentTitle:()=>h,default:()=>x,frontMatter:()=>u,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"react/hooks/useScrollEvent","title":"useScrollEvent","description":"useScrollEvent\ub294 \ud2b9\uc815 \uc694\uc18c\ub098 window\uc758 \uc2a4\ud06c\ub864 \uc704\uce58\ub97c \ucd94\uc801\ud558\ub294 React \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4. \uc2a4\ud06c\ub864 \ubc29\ud5a5, \uc9c4\ud589\ub3c4, \uc704\uce58 \ub4f1 \uc2a4\ud06c\ub864 \uad00\ub828 \uc815\ubcf4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.","source":"@site/docs/react/hooks/useScrollEvent.mdx","sourceDirName":"react/hooks","slug":"/react/hooks/useScrollEvent","permalink":"/modern-kit/docs/react/hooks/useScrollEvent","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"useResizeObserver","permalink":"/modern-kit/docs/react/hooks/useResizeObserver"},"next":{"title":"useScrollLock","permalink":"/modern-kit/docs/react/hooks/useScrollLock"}}');var l=t(6206),o=t(3267),i=t(4382),c=t(8692);const s=(e,n,t)=>{const r=n-t;return r<=0?0:Math.min(Math.round(e/r*100),100)},a=(e,n,t,r)=>({y:n===t?"none":n>t?"down":"up",x:e===r?"none":e>r?"right":"left"});function d({throttleDelay:e=0,throttleLeading:n=!0,throttleTrailing:t=!0,enabled:r=!0}={}){const l=(0,i.useRef)(null),o=(0,i.useRef)(0),d=(0,i.useRef)(0),[u,h]=(0,i.useState)({scrollX:0,scrollY:0,scrollWidth:0,scrollHeight:0,direction:{y:"none",x:"none"},progress:{y:0,x:0}}),p=(0,i.useCallback)((({scrollX:e,scrollY:n,scrollWidth:t,scrollHeight:r,clientWidth:l,clientHeight:i})=>{h({scrollX:e,scrollY:n,scrollWidth:t,scrollHeight:r,direction:a(e,n,o.current,d.current),progress:{y:s(n,r,i),x:s(e,t,l)}}),o.current=n,d.current=e}),[]),f=(0,i.useCallback)((()=>{if(!l.current)return;const e=l.current;p({scrollX:e.scrollLeft,scrollY:e.scrollTop,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight})}),[p]),g=(0,i.useCallback)((()=>{p({scrollX:window.scrollX,scrollY:window.scrollY,scrollWidth:document.documentElement.scrollWidth,scrollHeight:document.documentElement.scrollHeight,clientWidth:window.innerWidth,clientHeight:window.innerHeight})}),[p]);return(0,i.useEffect)((()=>{if(!r)return;const o=l.current??window,i=l.current?f:g,s=(0,c.t)(i,e,{leading:n,trailing:t});return i(),o.addEventListener("scroll",s),()=>{o.removeEventListener("scroll",s),s.cancel()}}),[f,g,r,e,n,t]),{ref:l,scrollState:u}}const u={},h="useScrollEvent",p={},f=()=>{const e={button:"button",div:"div",h3:"h3",p:"p",...(0,o.R)()},[n,t]=(0,i.useState)(!0),{scrollState:r}=d({enabled:n}),{ref:c,scrollState:s}=d({throttleDelay:300,enabled:n});return(0,l.jsxs)(e.div,{children:[(0,l.jsx)(e.button,{onClick:()=>t(!n),children:n?"\uc2a4\ud06c\ub864 \ucd94\uc801 \ube44\ud65c\uc131\ud654":"\uc2a4\ud06c\ub864 \ucd94\uc801 \ud65c\uc131\ud654"}),(0,l.jsxs)(e.div,{style:{marginTop:"20px"},children:[(0,l.jsx)(e.h3,{children:"Window \uc2a4\ud06c\ub864 \uc815\ubcf4"}),(0,l.jsxs)(e.p,{children:["Scroll Y: ",r.scrollY,"px"]}),(0,l.jsxs)(e.p,{children:["Direction Y: ",r.direction.y]}),(0,l.jsxs)(e.p,{children:["Progress Y: ",r.progress.y,"%"]})]}),(0,l.jsx)(e.div,{ref:c,style:{height:"200px",overflow:"auto",border:"1px solid #ccc",marginTop:"20px",padding:"10px"},children:(0,l.jsxs)(e.div,{style:{height:"500px",background:"linear-gradient(to bottom, #f0f0f0, #c0c0c0)"},children:[(0,l.jsx)(e.h3,{children:"Container \uc2a4\ud06c\ub864 \uc815\ubcf4"}),(0,l.jsxs)(e.p,{children:["Scroll Y: ",s.scrollY,"px"]}),(0,l.jsxs)(e.p,{children:["Direction Y: ",s.direction.y]}),(0,l.jsxs)(e.p,{children:["Progress Y: ",s.progress.y,"%"]}),(0,l.jsx)(e.p,{children:"\uc2a4\ud06c\ub864\uc744 \uc6c0\uc9c1\uc5ec\ubcf4\uc138\uc694"})]})})]})},g=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function v(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"usescrollevent",children:"useScrollEvent"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"useScrollEvent"}),"\ub294 \ud2b9\uc815 \uc694\uc18c\ub098 window\uc758 \uc2a4\ud06c\ub864 \uc704\uce58\ub97c \ucd94\uc801\ud558\ub294 React \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4. \uc2a4\ud06c\ub864 \ubc29\ud5a5, \uc9c4\ud589\ub3c4, \uc704\uce58 \ub4f1 \uc2a4\ud06c\ub864 \uad00\ub828 \uc815\ubcf4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsx)(n.p,{children:"\uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 throttle \ub51c\ub808\uc774, \uc2dc\uc791 \uc2dc\uc810 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80(leading), \ub9c8\uc9c0\ub9c9 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80(trailing), \uc2a4\ud06c\ub864 \ucd94\uc801 \uae30\ub2a5 \ud65c\uc131\ud654 \uc5ec\ubd80(enabled)\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"throttleDelay"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc4f0\ub85c\ud2c0\ub9c1 \ub51c\ub808\uc774\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"throttleLeading"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc4f0\ub85c\ud2c0\ub9c1 \uc2dc\uc791 \uc2dc\uc810 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"throttleTrailing"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc4f0\ub85c\ud2c0\ub9c1 \ub9c8\uc9c0\ub9c9 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"enabled"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \ucd94\uc801 \uae30\ub2a5\uc744 \ud65c\uc131\ud654/\ube44\ud65c\uc131\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,l.jsx)("br",{}),"\n",(0,l.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useScrollEvent/index.ts",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,l.jsx)(n.h2,{id:"interface",children:"Interface"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"interface UseScrollProps {\n  throttleDelay?: number; // default: 0\n  throttleLeading?: boolean; // default: true\n  throttleTrailing?: boolean; // default: true\n  enabled?: boolean; // default: true\n}\n\ninterface ScrollState {\n  scrollX: number;\n  scrollY: number;\n  scrollWidth: number;\n  scrollHeight: number;\n  direction: {\n    y: 'up' | 'down' | 'none'; // default: 'none'\n    x: 'left' | 'right' | 'none'; // default: 'none'\n  };\n  progress: {\n    y: number;\n    x: number;\n  };\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"function useScrollEvent<T extends HTMLElement>({\n  throttleDelay, // default: 0\n  throttleLeading, // default: true\n  throttleTrailing, // default: true\n  enabled, // default: true\n}: UseScrollProps = {}): {\n  ref: React.RefObject<T>;\n  scrollState: ScrollState;\n};\n"})}),"\n",(0,l.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",metastring:'title="typescript"',children:"import { useScrollEvent } from '@modern-kit/react';\n\nconst Example = () => {\n  const [enabled, setEnabled] = useState(true);\n  const { scrollState } = useScrollEvent({ enabled });\n  \n  // \ud2b9\uc815 \uc694\uc18c\uc758 \uc2a4\ud06c\ub864 \uc704\uce58 \ucd94\uc801\n  const { ref, scrollState: containerScrollState } = useScrollEvent<HTMLDivElement>({\n    throttleDelay: 300,\n    enabled: true,\n  });\n  \n  return (\n    <div>\n      <button onClick={() => setEnabled(!enabled)}>\n        {enabled ? '\uc2a4\ud06c\ub864 \ucd94\uc801 \ube44\ud65c\uc131\ud654' : '\uc2a4\ud06c\ub864 \ucd94\uc801 \ud65c\uc131\ud654'}\n      </button>\n      \n      <div style={{ marginTop: '20px' }}>\n        <h3>Window \uc2a4\ud06c\ub864 \uc815\ubcf4</h3>\n        <p>Scroll Y: {scrollState.scrollY}px</p>\n        <p>Direction Y: {scrollState.direction.y}</p>\n        <p>Progress Y: {Math.round(scrollState.progress.y * 100)}%</p>\n      </div>\n      \n      <div \n        ref={ref} \n        style={{ \n          height: '200px', \n          overflow: 'auto',\n          border: '1px solid #ccc',\n          marginTop: '20px',\n          padding: '10px'\n        }}\n      >\n        <div style={{ height: '500px', background: 'linear-gradient(to bottom, #f0f0f0, #c0c0c0)' }}>\n          <h3>Container \uc2a4\ud06c\ub864 \uc815\ubcf4</h3>\n          <p>Scroll Y: {containerScrollState.scrollY}px</p>\n          <p>Direction Y: {containerScrollState.direction.y}</p>\n          <p>Progress Y: {containerScrollState.progress.y}%</p>\n          <p>\uc2a4\ud06c\ub864\uc744 \uc6c0\uc9c1\uc5ec\ubcf4\uc138\uc694</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n"})}),"\n",(0,l.jsx)(n.h2,{id:"example",children:"Example"}),"\n","\n",(0,l.jsx)(f,{})]})}function x(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(v,{...e})}):v(e)}},3267:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(4382);const l={},o=r.createContext(l);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(o.Provider,{value:n},e.children)}},2984:(e,n,t)=>{function r(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}t.d(n,{d:()=>O,i:()=>r});var l="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,i=l||o||Function("return this")(),c=function(){return i.Date.now()},s=/\s/;var a=/^\s+/;function d(e){return e?e.slice(0,function(e){for(var n=e.length;n--&&s.test(e.charAt(n)););return n}(e)+1).replace(a,""):e}var u=i.Symbol,h=Object.prototype,p=h.hasOwnProperty,f=h.toString,g=u?u.toStringTag:void 0;var v=Object.prototype.toString;var x="[object Null]",m="[object Undefined]",b=u?u.toStringTag:void 0;function j(e){return null==e?void 0===e?m:x:b&&b in Object(e)?function(e){var n=p.call(e,g),t=e[g];try{e[g]=void 0;var r=!0}catch(o){}var l=f.call(e);return r&&(n?e[g]=t:delete e[g]),l}(e):function(e){return v.call(e)}(e)}var S="[object Symbol]";var y=NaN,k=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,w=/^0o[0-7]+$/i,T=parseInt;function Y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&j(e)==S}(e))return y;if(r(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=r(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=d(e);var t=E.test(e);return t||w.test(e)?T(e.slice(2),t?2:8):k.test(e)?y:+e}var W="Expected a function",H=Math.max,C=Math.min;function O(e,n,t){var l,o,i,s,a,d,u=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(W);function g(n){var t=l,r=o;return l=o=void 0,u=n,s=e.apply(r,t)}function v(e){var t=e-d;return void 0===d||t>=n||t<0||p&&e-u>=i}function x(){var e=c();if(v(e))return m(e);a=setTimeout(x,function(e){var t=n-(e-d);return p?C(t,i-(e-u)):t}(e))}function m(e){return a=void 0,f&&l?g(e):(l=o=void 0,s)}function b(){var e=c(),t=v(e);if(l=arguments,o=this,d=e,t){if(void 0===a)return function(e){return u=e,a=setTimeout(x,n),h?g(e):s}(d);if(p)return clearTimeout(a),a=setTimeout(x,n),g(d)}return void 0===a&&(a=setTimeout(x,n)),s}return n=Y(n)||0,r(t)&&(h=!!t.leading,i=(p="maxWait"in t)?H(Y(t.maxWait)||0,n):i,f="trailing"in t?!!t.trailing:f),b.cancel=function(){void 0!==a&&clearTimeout(a),u=0,l=d=o=a=void 0},b.flush=function(){return void 0===a?s:m(c())},b}},8692:(e,n,t)=>{t.d(n,{t:()=>o});var r=t(2984),l="Expected a function";function o(e,n,t){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(l);return(0,r.i)(t)&&(o="leading"in t?!!t.leading:o,i="trailing"in t?!!t.trailing:i),(0,r.d)(e,n,{leading:o,maxWait:n,trailing:i})}}}]);