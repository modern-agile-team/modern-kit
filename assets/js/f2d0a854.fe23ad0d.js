"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[9455],{7025:(e,n,t)=>{t.r(n),t.d(n,{Example:()=>x,assets:()=>p,contentTitle:()=>h,default:()=>m,frontMatter:()=>u,metadata:()=>l,toc:()=>g});const l=JSON.parse('{"id":"react/hooks/useScrollEvent","title":"useScrollEvent","description":"useScrollEvent\ub294 \ud2b9\uc815 \uc694\uc18c\ub098 window\uc758 \uc2a4\ud06c\ub864 \uc704\uce58\ub97c \ucd94\uc801\ud558\ub294 React \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4. \uc2a4\ud06c\ub864 \ubc29\ud5a5, \uc9c4\ud589\ub3c4, \uc704\uce58 \ub4f1 \uc2a4\ud06c\ub864 \uad00\ub828 \uc815\ubcf4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.","source":"@site/docs/react/hooks/useScrollEvent.mdx","sourceDirName":"react/hooks","slug":"/react/hooks/useScrollEvent","permalink":"/modern-kit/docs/react/hooks/useScrollEvent","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"useSafeContext","permalink":"/modern-kit/docs/react/hooks/useSafeContex"},"next":{"title":"useScrollLock","permalink":"/modern-kit/docs/react/hooks/useScrollLock"}}');var r=t(6206),o=t(3267),c=t(4382),s=t(9319);const i=(e,n,t)=>{const l=n-t;return l<=0?0:Math.min(Math.round(e/l*100),100)},a=(e,n,t,l)=>({y:n===t?"none":n>t?"down":"up",x:e===l?"none":e>l?"right":"left"});function d({throttleDelay:e=0,throttleLeading:n=!0,throttleTrailing:t=!0,enabled:l=!0}={}){const r=(0,c.useRef)(null),o=(0,c.useRef)(0),d=(0,c.useRef)(0),[u,h]=(0,c.useState)({scrollX:0,scrollY:0,scrollWidth:0,scrollHeight:0,direction:{y:"none",x:"none"},progress:{y:0,x:0}}),p=(0,c.useCallback)((({scrollX:e,scrollY:n,scrollWidth:t,scrollHeight:l,clientWidth:r,clientHeight:c})=>{h({scrollX:e,scrollY:n,scrollWidth:t,scrollHeight:l,direction:a(e,n,o.current,d.current),progress:{y:i(n,l,c),x:i(e,t,r)}}),o.current=n,d.current=e}),[]),x=(0,c.useCallback)((()=>{if(!r.current)return;const e=r.current;p({scrollX:e.scrollLeft,scrollY:e.scrollTop,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight})}),[p]),g=(0,c.useCallback)((()=>{p({scrollX:window.scrollX,scrollY:window.scrollY,scrollWidth:document.documentElement.scrollWidth,scrollHeight:document.documentElement.scrollHeight,clientWidth:window.innerWidth,clientHeight:window.innerHeight})}),[p]);return(0,c.useEffect)((()=>{if(!l)return;const o=r.current??window,c=r.current?x:g,i=(0,s.n)(c,e,{leading:n,trailing:t});return c(),o.addEventListener("scroll",i),()=>{o.removeEventListener("scroll",i),i.cancel()}}),[x,g,l,e,n,t]),{ref:r,scrollState:u}}const u={},h="useScrollEvent",p={},x=()=>{const e={button:"button",div:"div",h3:"h3",p:"p",...(0,o.R)()},[n,t]=(0,c.useState)(!0),{scrollState:l}=d({enabled:n}),{ref:s,scrollState:i}=d({throttleDelay:300,enabled:n});return(0,r.jsxs)(e.div,{children:[(0,r.jsx)(e.button,{onClick:()=>t(!n),children:n?"\uc2a4\ud06c\ub864 \ucd94\uc801 \ube44\ud65c\uc131\ud654":"\uc2a4\ud06c\ub864 \ucd94\uc801 \ud65c\uc131\ud654"}),(0,r.jsxs)(e.div,{style:{marginTop:"20px"},children:[(0,r.jsx)(e.h3,{children:"Window \uc2a4\ud06c\ub864 \uc815\ubcf4"}),(0,r.jsxs)(e.p,{children:["Scroll Y: ",l.scrollY,"px"]}),(0,r.jsxs)(e.p,{children:["Direction Y: ",l.direction.y]}),(0,r.jsxs)(e.p,{children:["Progress Y: ",l.progress.y,"%"]})]}),(0,r.jsx)(e.div,{ref:s,style:{height:"200px",overflow:"auto",border:"1px solid #ccc",marginTop:"20px",padding:"10px"},children:(0,r.jsxs)(e.div,{style:{height:"500px",background:"linear-gradient(to bottom, #f0f0f0, #c0c0c0)"},children:[(0,r.jsx)(e.h3,{children:"Container \uc2a4\ud06c\ub864 \uc815\ubcf4"}),(0,r.jsxs)(e.p,{children:["Scroll Y: ",i.scrollY,"px"]}),(0,r.jsxs)(e.p,{children:["Direction Y: ",i.direction.y]}),(0,r.jsxs)(e.p,{children:["Progress Y: ",i.progress.y,"%"]}),(0,r.jsx)(e.p,{children:"\uc2a4\ud06c\ub864\uc744 \uc6c0\uc9c1\uc5ec\ubcf4\uc138\uc694"})]})})]})},g=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function f(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"usescrollevent",children:"useScrollEvent"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"useScrollEvent"}),"\ub294 \ud2b9\uc815 \uc694\uc18c\ub098 window\uc758 \uc2a4\ud06c\ub864 \uc704\uce58\ub97c \ucd94\uc801\ud558\ub294 React \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4. \uc2a4\ud06c\ub864 \ubc29\ud5a5, \uc9c4\ud589\ub3c4, \uc704\uce58 \ub4f1 \uc2a4\ud06c\ub864 \uad00\ub828 \uc815\ubcf4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 throttle \ub51c\ub808\uc774, \uc2dc\uc791 \uc2dc\uc810 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80(leading), \ub9c8\uc9c0\ub9c9 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80(trailing), \uc2a4\ud06c\ub864 \ucd94\uc801 \uae30\ub2a5 \ud65c\uc131\ud654 \uc5ec\ubd80(enabled)\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"throttleDelay"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc4f0\ub85c\ud2c0\ub9c1 \ub51c\ub808\uc774\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"throttleLeading"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc4f0\ub85c\ud2c0\ub9c1 \uc2dc\uc791 \uc2dc\uc810 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"throttleTrailing"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc4f0\ub85c\ud2c0\ub9c1 \ub9c8\uc9c0\ub9c9 \uc774\ubca4\ud2b8 \ubb34\uc2dc \uc5ec\ubd80\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enabled"})," \uc635\uc158\uc744 \ud1b5\ud574 \uc2a4\ud06c\ub864 \ucd94\uc801 \uae30\ub2a5\uc744 \ud65c\uc131\ud654/\ube44\ud65c\uc131\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useScrollEvent/index.ts",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,r.jsx)(n.h2,{id:"interface",children:"Interface"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"interface UseScrollProps {\n  throttleDelay?: number; // default: 0\n  throttleLeading?: boolean; // default: true\n  throttleTrailing?: boolean; // default: true\n  enabled?: boolean; // default: true\n}\n\ninterface ScrollState {\n  scrollX: number;\n  scrollY: number;\n  scrollWidth: number;\n  scrollHeight: number;\n  direction: {\n    y: 'up' | 'down' | 'none'; // default: 'none'\n    x: 'left' | 'right' | 'none'; // default: 'none'\n  };\n  progress: {\n    y: number;\n    x: number;\n  };\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="typescript"',children:"function useScrollEvent<T extends HTMLElement>({\n  throttleDelay, // default: 0\n  throttleLeading, // default: true\n  throttleTrailing, // default: true\n  enabled, // default: true\n}: UseScrollProps = {}): {\n  ref: React.RefObject<T>;\n  scrollState: ScrollState;\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:'title="typescript"',children:"import { useScrollEvent } from '@modern-kit/react';\n\nconst Example = () => {\n  const [enabled, setEnabled] = useState(true);\n  const { scrollState } = useScrollEvent({ enabled });\n  \n  // \ud2b9\uc815 \uc694\uc18c\uc758 \uc2a4\ud06c\ub864 \uc704\uce58 \ucd94\uc801\n  const { ref, scrollState: containerScrollState } = useScrollEvent<HTMLDivElement>({\n    throttleDelay: 300,\n    enabled: true,\n  });\n  \n  return (\n    <div>\n      <button onClick={() => setEnabled(!enabled)}>\n        {enabled ? '\uc2a4\ud06c\ub864 \ucd94\uc801 \ube44\ud65c\uc131\ud654' : '\uc2a4\ud06c\ub864 \ucd94\uc801 \ud65c\uc131\ud654'}\n      </button>\n      \n      <div style={{ marginTop: '20px' }}>\n        <h3>Window \uc2a4\ud06c\ub864 \uc815\ubcf4</h3>\n        <p>Scroll Y: {scrollState.scrollY}px</p>\n        <p>Direction Y: {scrollState.direction.y}</p>\n        <p>Progress Y: {Math.round(scrollState.progress.y * 100)}%</p>\n      </div>\n      \n      <div \n        ref={ref} \n        style={{ \n          height: '200px', \n          overflow: 'auto',\n          border: '1px solid #ccc',\n          marginTop: '20px',\n          padding: '10px'\n        }}\n      >\n        <div style={{ height: '500px', background: 'linear-gradient(to bottom, #f0f0f0, #c0c0c0)' }}>\n          <h3>Container \uc2a4\ud06c\ub864 \uc815\ubcf4</h3>\n          <p>Scroll Y: {containerScrollState.scrollY}px</p>\n          <p>Direction Y: {containerScrollState.direction.y}</p>\n          <p>Progress Y: {containerScrollState.progress.y}%</p>\n          <p>\uc2a4\ud06c\ub864\uc744 \uc6c0\uc9c1\uc5ec\ubcf4\uc138\uc694</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n","\n",(0,r.jsx)(x,{})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},3267:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>s});var l=t(4382);const r={},o=l.createContext(r);function c(e){const n=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(o.Provider,{value:n},e.children)}},9682:(e,n,t)=>{function l(e,n,t={}){let l,r=null,o=null,c=null;const{signal:s,leading:i=!1,trailing:a=!0,maxWait:d}=t,u=()=>{null!=r&&(e.apply(l,r),l=void 0,r=null,o=null)},h=()=>{a&&u(),g()},p=()=>{null!=c&&clearTimeout(c);const e=(()=>{if("number"==typeof d&&null!=o){const e=Date.now()-o,t=d-e;return t<=0?void h():Math.min(n,t)}return n})();c=setTimeout((()=>{c=null,h()}),e)},x=()=>{null!=c&&(clearTimeout(c),c=null)},g=()=>{x(),l=void 0,r=null,o=null},f=function(...e){if(s?.aborted)return;l=this,r=e;const n=null==c;n&&(o=Date.now()),p(),i&&n&&u()};return f.cancel=g,f.flush=()=>{x(),u(),o=null},s?.addEventListener("abort",g,{once:!0}),f}t.d(n,{s:()=>l})},9319:(e,n,t)=>{t.d(n,{n:()=>r});var l=t(9682);function r(e,n,t={}){const{signal:r,leading:o=!0,trailing:c=!0}=t,s=(0,l.s)(e,n,{signal:r,leading:o,trailing:c});let i=null;const a=function(...e){const t=Date.now();null==i?i=t:t-i>=n&&(i=t,s.cancel()),s(...e)};return a.cancel=s.cancel,a.flush=s.flush,a}}}]);